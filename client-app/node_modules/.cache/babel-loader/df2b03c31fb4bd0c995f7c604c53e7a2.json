{"ast":null,"code":"import _defineProperty from\"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import React,{useContext}from'react';import{Form as FinalForm,Field}from'react-final-form';import{Form,Button,Header}from'semantic-ui-react';import TextInput from'../../app/common/form/TextInput';import{RootStoreContext}from'../../app/stores/rootStore';import{FORM_ERROR}from'final-form';import{combineValidators,isRequired}from'revalidate';import ErrorMessage from'../../app/common/form/ErrorMessage';var validate=combineValidators({userName:isRequired('Username'),display:isRequired('Display'),email:isRequired('Email'),password:isRequired('Password')});var RegisterForm=function RegisterForm(){var rootStore=useContext(RootStoreContext);var register=rootStore.userStore.register;return/*#__PURE__*/React.createElement(FinalForm,{onSubmit:function onSubmit(values){return register(values).catch(function(error){return _defineProperty({},FORM_ERROR,error);});},validate:validate,render:function render(_ref2){var handleSubmit=_ref2.handleSubmit,submitting=_ref2.submitting,submitError=_ref2.submitError,invalid=_ref2.invalid,pristine=_ref2.pristine,dirtySinceLastSubmit=_ref2.dirtySinceLastSubmit;return/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit,error:true},/*#__PURE__*/React.createElement(Header,{as:\"h2\",content:\"Sign up to Reactivities\",color:\"teal\",textAlign:\"center\"}),/*#__PURE__*/React.createElement(Field,{name:\"userName\",component:TextInput,placeholder:\"Username\"}),/*#__PURE__*/React.createElement(Field,{name:\"display\",component:TextInput,placeholder:\"Display Name\"}),/*#__PURE__*/React.createElement(Field,{name:\"email\",component:TextInput,placeholder:\"Email\"}),/*#__PURE__*/React.createElement(Field,{name:\"password\",component:TextInput,placeholder:\"Password\",type:\"password\"}),submitError&&!dirtySinceLastSubmit&&/*#__PURE__*/React.createElement(ErrorMessage,{error:submitError}),/*#__PURE__*/React.createElement(Button,{disabled:invalid&&!dirtySinceLastSubmit||pristine,loading:submitting,color:\"teal\",content:\"Register\",fluid:true}));}});};export default RegisterForm;","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/src/features/user/RegisterForm.tsx"],"names":["React","useContext","Form","FinalForm","Field","Button","Header","TextInput","RootStoreContext","FORM_ERROR","combineValidators","isRequired","ErrorMessage","validate","userName","display","email","password","RegisterForm","rootStore","register","userStore","values","catch","error","handleSubmit","submitting","submitError","invalid","pristine","dirtySinceLastSubmit"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,IAAI,GAAIC,CAAAA,SAAjB,CAA4BC,KAA5B,KAAyC,kBAAzC,CACA,OAASF,IAAT,CAAeG,MAAf,CAAuBC,MAAvB,KAAqC,mBAArC,CACA,MAAOC,CAAAA,SAAP,KAAsB,iCAAtB,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CAEA,OAASC,UAAT,KAA2B,YAA3B,CACA,OAASC,iBAAT,CAA4BC,UAA5B,KAA8C,YAA9C,CACA,MAAOC,CAAAA,YAAP,KAAyB,oCAAzB,CAEA,GAAMC,CAAAA,QAAQ,CAAGH,iBAAiB,CAAC,CACjCI,QAAQ,CAAEH,UAAU,CAAC,UAAD,CADa,CAEjCI,OAAO,CAAEJ,UAAU,CAAC,SAAD,CAFc,CAGjCK,KAAK,CAAEL,UAAU,CAAC,OAAD,CAHgB,CAIjCM,QAAQ,CAAEN,UAAU,CAAC,UAAD,CAJa,CAAD,CAAlC,CAOA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,SAAS,CAAGlB,UAAU,CAACO,gBAAD,CAA5B,CADyB,GAEjBY,CAAAA,QAFiB,CAEJD,SAAS,CAACE,SAFN,CAEjBD,QAFiB,CAGzB,mBACE,oBAAC,SAAD,EACE,QAAQ,CAAE,kBAACE,MAAD,QACRF,CAAAA,QAAQ,CAACE,MAAD,CAAR,CAAiBC,KAAjB,CAAuB,SAAAC,KAAK,4BACzBf,UADyB,CACZe,KADY,GAA5B,CADQ,EADZ,CAME,QAAQ,CAAEX,QANZ,CAOE,MAAM,CAAE,0BACNY,CAAAA,YADM,OACNA,YADM,CAENC,UAFM,OAENA,UAFM,CAGNC,WAHM,OAGNA,WAHM,CAINC,OAJM,OAINA,OAJM,CAKNC,QALM,OAKNA,QALM,CAMNC,oBANM,OAMNA,oBANM,oBAQN,oBAAC,IAAD,EAAM,QAAQ,CAAEL,YAAhB,CAA8B,KAAK,KAAnC,eACE,oBAAC,MAAD,EACE,EAAE,CAAC,IADL,CAEE,OAAO,CAAC,yBAFV,CAGE,KAAK,CAAC,MAHR,CAIE,SAAS,CAAC,QAJZ,EADF,cAOE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAElB,SAAlC,CAA6C,WAAW,CAAC,UAAzD,EAPF,cAQE,oBAAC,KAAD,EACE,IAAI,CAAC,SADP,CAEE,SAAS,CAAEA,SAFb,CAGE,WAAW,CAAC,cAHd,EARF,cAaE,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEA,SAA/B,CAA0C,WAAW,CAAC,OAAtD,EAbF,cAcE,oBAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAEA,SAFb,CAGE,WAAW,CAAC,UAHd,CAIE,IAAI,CAAC,UAJP,EAdF,CAoBGoB,WAAW,EAAI,CAACG,oBAAhB,eACC,oBAAC,YAAD,EACE,KAAK,CAAEH,WADT,EArBJ,cAyBE,oBAAC,MAAD,EACE,QAAQ,CAAGC,OAAO,EAAI,CAACE,oBAAb,EAAsCD,QADlD,CAEE,OAAO,CAAEH,UAFX,CAGE,KAAK,CAAC,MAHR,CAIE,OAAO,CAAC,UAJV,CAKE,KAAK,KALP,EAzBF,CARM,EAPV,EADF,CAoDD,CAvDD,CAyDA,cAAeR,CAAAA,YAAf","sourcesContent":["import React, { useContext } from 'react';\nimport { Form as FinalForm, Field } from 'react-final-form';\nimport { Form, Button, Header } from 'semantic-ui-react';\nimport TextInput from '../../app/common/form/TextInput';\nimport { RootStoreContext } from '../../app/stores/rootStore';\nimport { IUserFormValues } from '../../app/models/user';\nimport { FORM_ERROR } from 'final-form';\nimport { combineValidators, isRequired } from 'revalidate';\nimport ErrorMessage from '../../app/common/form/ErrorMessage';\n\nconst validate = combineValidators({\n  userName: isRequired('Username'),\n  display: isRequired('Display'),\n  email: isRequired('Email'),\n  password: isRequired('Password')\n});\n\nconst RegisterForm = () => {\n  const rootStore = useContext(RootStoreContext);\n  const { register } = rootStore.userStore;\n  return (\n    <FinalForm\n      onSubmit={(values: IUserFormValues) =>\n        register(values).catch(error => ({\n          [FORM_ERROR]: error\n        }))\n      }\n      validate={validate}\n      render={({\n        handleSubmit,\n        submitting,\n        submitError,\n        invalid,\n        pristine,\n        dirtySinceLastSubmit\n      }) => (\n        <Form onSubmit={handleSubmit} error>\n          <Header\n            as='h2'\n            content='Sign up to Reactivities'\n            color='teal'\n            textAlign='center'\n          />\n          <Field name='userName' component={TextInput} placeholder='Username' />\n          <Field\n            name='display'\n            component={TextInput}\n            placeholder='Display Name'\n          />\n          <Field name='email' component={TextInput} placeholder='Email' />\n          <Field\n            name='password'\n            component={TextInput}\n            placeholder='Password'\n            type='password'\n          />\n          {submitError && !dirtySinceLastSubmit && (\n            <ErrorMessage\n              error={submitError}\n            />\n          )}\n          <Button\n            disabled={(invalid && !dirtySinceLastSubmit) || pristine}\n            loading={submitting}\n            color='teal'\n            content='Register'\n            fluid\n          />\n        </Form>\n      )}\n    />\n  );\n};\n\nexport default RegisterForm;\n"]},"metadata":{},"sourceType":"module"}