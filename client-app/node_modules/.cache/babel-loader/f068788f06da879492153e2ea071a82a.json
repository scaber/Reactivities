{"ast":null,"code":"require('text-encoding-polyfill');\n\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nfunction defaultDecoder(data) {\n  var decoder = new StringDecoder();\n  var out = decoder.write(data) + decoder.end();\n  return out.replace(/\\0/g, '').trim();\n}\n\nmodule.exports = createDecoder;\nvar regex = /^(?:ASNI\\s)?(\\d+)$/m;\n\nfunction createDecoder(encoding) {\n  if (!encoding) {\n    return defaultDecoder;\n  }\n\n  try {\n    new TextDecoder(encoding.trim());\n  } catch (e) {\n    var match = regex.exec(encoding);\n\n    if (match) {\n      encoding = 'windows-' + match[1];\n    }\n  }\n\n  return browserDecoder;\n\n  function browserDecoder(buffer) {\n    var decoder = new TextDecoder(encoding);\n    var out = decoder.decode(buffer, {\n      stream: true\n    }) + decoder.decode();\n    return out.replace(/\\0/g, '').trim();\n  }\n}","map":null,"metadata":{},"sourceType":"script"}