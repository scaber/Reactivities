{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _reduceToListState = require(\"./util/reduceToListState\");\n\nvar _Listbox = _interopRequireDefault(require(\"./Listbox\"));\n\nvar _ListOption = _interopRequireDefault(require(\"./ListOption\"));\n\nvar _ListOptionGroup = _interopRequireDefault(require(\"./ListOptionGroup\"));\n\nvar _messages = require(\"./messages\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar EMPTY_DATA_STATE = {};\nvar propTypes = {\n  data: _propTypes.default.array,\n  dataState: _propTypes.default.shape({\n    sortedKeys: _propTypes.default.array,\n    groups: _propTypes.default.object,\n    data: _propTypes.default.array,\n    sequentialData: _propTypes.default.array\n  }),\n  valueAccessor: CustomPropTypes.accessor,\n  textAccessor: CustomPropTypes.accessor,\n  onSelect: _propTypes.default.func,\n  onMove: _propTypes.default.func,\n  activeId: _propTypes.default.string,\n  itemComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  optionComponent: CustomPropTypes.elementType,\n  renderItem: _propTypes.default.func,\n  renderGroup: _propTypes.default.func,\n  focusedItem: _propTypes.default.any,\n  selectedItem: _propTypes.default.any,\n  searchTerm: _propTypes.default.string,\n  isDisabled: _propTypes.default.func.isRequired,\n  messages: _propTypes.default.shape({\n    emptyList: _propTypes.default.func.isRequired\n  })\n};\nvar defaultProps = {\n  onSelect: function onSelect() {},\n  data: [],\n  dataState: EMPTY_DATA_STATE,\n  optionComponent: _ListOption.default\n};\n\nvar List = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(List, _React$Component);\n\n  function List() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item,\n          rest = _objectWithoutProperties(_ref, [\"item\"]);\n\n      var _this$props = _this.props,\n          isDisabled = _this$props.isDisabled,\n          renderItem = _this$props.renderItem,\n          textAccessor = _this$props.textAccessor,\n          valueAccessor = _this$props.valueAccessor;\n      var Component = _this.props.itemComponent;\n\n      if (renderItem) {\n        return renderItem(_extends({\n          item: item\n        }, rest));\n      } else if (Component) {\n        return _react.default.createElement(Component, _extends({\n          item: item,\n          value: valueAccessor(item),\n          text: textAccessor(item),\n          disabled: isDisabled(item)\n        }, rest));\n      }\n\n      return textAccessor(item);\n    };\n\n    _this.renderGroup = function (group) {\n      var _this$props2 = _this.props,\n          renderGroup = _this$props2.renderGroup,\n          Component = _this$props2.groupComponent;\n\n      if (renderGroup) {\n        return renderGroup({\n          group: group\n        });\n      } else if (Component) {\n        return _react.default.createElement(Component, {\n          item: group\n        });\n      }\n\n      return group;\n    };\n\n    return _this;\n  }\n\n  var _proto = List.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.move();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.move();\n  };\n\n  _proto.mapItems = function mapItems(fn) {\n    var _this$props3 = this.props,\n        data = _this$props3.data,\n        dataState = _this$props3.dataState;\n    var sortedKeys = dataState.sortedKeys,\n        groups = dataState.groups;\n    if (!groups) return data.map(function (item, idx) {\n      return fn(item, idx, false);\n    });\n    var idx = -1;\n    return sortedKeys.reduce(function (items, key) {\n      var group = groups[key];\n      return items.concat(fn(key, idx, true), group.map(function (item) {\n        return fn(item, ++idx, false);\n      }));\n    }, []);\n  };\n\n  _proto.move = function move() {\n    var _this$props4 = this.props,\n        focusedItem = _this$props4.focusedItem,\n        onMove = _this$props4.onMove,\n        data = _this$props4.data,\n        dataState = _this$props4.dataState;\n    var list = (0, _reactDom.findDOMNode)(this);\n    var idx = renderedIndexOf(focusedItem, list, data, dataState);\n    var selectedItem = list.children[idx];\n    if (selectedItem) (0, _widgetHelpers.notify)(onMove, [selectedItem, list, focusedItem]);\n  };\n\n  _proto.renderOption = function renderOption(item, index) {\n    var _this$props5 = this.props,\n        activeId = _this$props5.activeId,\n        focusedItem = _this$props5.focusedItem,\n        selectedItem = _this$props5.selectedItem,\n        onSelect = _this$props5.onSelect,\n        isDisabled = _this$props5.isDisabled,\n        searchTerm = _this$props5.searchTerm,\n        Option = _this$props5.optionComponent;\n    var isFocused = focusedItem === item;\n    return _react.default.createElement(Option, {\n      dataItem: item,\n      key: 'item_' + index,\n      index: index,\n      activeId: activeId,\n      focused: isFocused,\n      onSelect: onSelect,\n      disabled: isDisabled(item),\n      selected: selectedItem === item\n    }, this.renderItem({\n      item: item,\n      index: index,\n      searchTerm: searchTerm\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props6 = this.props,\n        className = _this$props6.className,\n        messages = _this$props6.messages;\n    var elementProps = Props.pickElementProps(this);\n\n    var _getMessages = (0, _messages.getMessages)(messages),\n        emptyList = _getMessages.emptyList;\n\n    return _react.default.createElement(_Listbox.default, _extends({}, elementProps, {\n      className: className,\n      emptyListMessage: emptyList(this.props)\n    }), this.mapItems(function (item, idx, isHeader) {\n      return isHeader ? _react.default.createElement(_ListOptionGroup.default, {\n        key: 'group_' + item,\n        group: item\n      }, _this2.renderGroup(item)) : _this2.renderOption(item, idx);\n    }));\n  };\n\n  return List;\n}(_react.default.Component);\n\nList.getDataState = _reduceToListState.defaultGetDataState;\n\nfunction renderedIndexOf(item, list, data, dataState) {\n  var groups = dataState.groups,\n      sortedKeys = dataState.sortedKeys;\n  if (!groups) return data.indexOf(item);\n  var runningIdx = -1;\n  var idx = -1;\n  sortedKeys.some(function (group) {\n    var itemIdx = groups[group].indexOf(item);\n    runningIdx++;\n\n    if (itemIdx !== -1) {\n      idx = runningIdx + itemIdx + 1;\n      return true;\n    }\n\n    runningIdx += groups[group].length;\n  });\n  return idx;\n}\n\nList.propTypes = propTypes;\nList.defaultProps = defaultProps;\nvar _default = List;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/node_modules/react-widgets/lib/List.js"],"names":["exports","__esModule","default","_propTypes","_interopRequireDefault","require","_react","_reactDom","CustomPropTypes","_interopRequireWildcard","Props","_widgetHelpers","_reduceToListState","_Listbox","_ListOption","_ListOptionGroup","_messages","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_inheritsLoose","subClass","superClass","create","constructor","__proto__","EMPTY_DATA_STATE","propTypes","data","array","dataState","shape","sortedKeys","groups","object","sequentialData","valueAccessor","accessor","textAccessor","onSelect","func","onMove","activeId","string","itemComponent","elementType","groupComponent","optionComponent","renderItem","renderGroup","focusedItem","any","selectedItem","searchTerm","isDisabled","isRequired","messages","emptyList","defaultProps","List","_React$Component","_this","_len","args","Array","_key","concat","_ref","item","rest","_this$props","props","Component","createElement","value","text","disabled","group","_this$props2","_proto","componentDidMount","move","componentDidUpdate","mapItems","fn","_this$props3","map","idx","reduce","items","_this$props4","list","findDOMNode","renderedIndexOf","children","notify","renderOption","index","_this$props5","Option","isFocused","dataItem","focused","selected","render","_this2","_this$props6","className","elementProps","pickElementProps","_getMessages","getMessages","emptyListMessage","isHeader","getDataState","defaultGetDataState","runningIdx","some","itemIdx","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _reduceToListState = require(\"./util/reduceToListState\");\n\nvar _Listbox = _interopRequireDefault(require(\"./Listbox\"));\n\nvar _ListOption = _interopRequireDefault(require(\"./ListOption\"));\n\nvar _ListOptionGroup = _interopRequireDefault(require(\"./ListOptionGroup\"));\n\nvar _messages = require(\"./messages\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar EMPTY_DATA_STATE = {};\nvar propTypes = {\n  data: _propTypes.default.array,\n  dataState: _propTypes.default.shape({\n    sortedKeys: _propTypes.default.array,\n    groups: _propTypes.default.object,\n    data: _propTypes.default.array,\n    sequentialData: _propTypes.default.array\n  }),\n  valueAccessor: CustomPropTypes.accessor,\n  textAccessor: CustomPropTypes.accessor,\n  onSelect: _propTypes.default.func,\n  onMove: _propTypes.default.func,\n  activeId: _propTypes.default.string,\n  itemComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  optionComponent: CustomPropTypes.elementType,\n  renderItem: _propTypes.default.func,\n  renderGroup: _propTypes.default.func,\n  focusedItem: _propTypes.default.any,\n  selectedItem: _propTypes.default.any,\n  searchTerm: _propTypes.default.string,\n  isDisabled: _propTypes.default.func.isRequired,\n  messages: _propTypes.default.shape({\n    emptyList: _propTypes.default.func.isRequired\n  })\n};\nvar defaultProps = {\n  onSelect: function onSelect() {},\n  data: [],\n  dataState: EMPTY_DATA_STATE,\n  optionComponent: _ListOption.default\n};\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(List, _React$Component);\n\n  function List() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item,\n          rest = _objectWithoutProperties(_ref, [\"item\"]);\n\n      var _this$props = _this.props,\n          isDisabled = _this$props.isDisabled,\n          renderItem = _this$props.renderItem,\n          textAccessor = _this$props.textAccessor,\n          valueAccessor = _this$props.valueAccessor;\n      var Component = _this.props.itemComponent;\n\n      if (renderItem) {\n        return renderItem(_extends({\n          item: item\n        }, rest));\n      } else if (Component) {\n        return _react.default.createElement(Component, _extends({\n          item: item,\n          value: valueAccessor(item),\n          text: textAccessor(item),\n          disabled: isDisabled(item)\n        }, rest));\n      }\n\n      return textAccessor(item);\n    };\n\n    _this.renderGroup = function (group) {\n      var _this$props2 = _this.props,\n          renderGroup = _this$props2.renderGroup,\n          Component = _this$props2.groupComponent;\n\n      if (renderGroup) {\n        return renderGroup({\n          group: group\n        });\n      } else if (Component) {\n        return _react.default.createElement(Component, {\n          item: group\n        });\n      }\n\n      return group;\n    };\n\n    return _this;\n  }\n\n  var _proto = List.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.move();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.move();\n  };\n\n  _proto.mapItems = function mapItems(fn) {\n    var _this$props3 = this.props,\n        data = _this$props3.data,\n        dataState = _this$props3.dataState;\n    var sortedKeys = dataState.sortedKeys,\n        groups = dataState.groups;\n    if (!groups) return data.map(function (item, idx) {\n      return fn(item, idx, false);\n    });\n    var idx = -1;\n    return sortedKeys.reduce(function (items, key) {\n      var group = groups[key];\n      return items.concat(fn(key, idx, true), group.map(function (item) {\n        return fn(item, ++idx, false);\n      }));\n    }, []);\n  };\n\n  _proto.move = function move() {\n    var _this$props4 = this.props,\n        focusedItem = _this$props4.focusedItem,\n        onMove = _this$props4.onMove,\n        data = _this$props4.data,\n        dataState = _this$props4.dataState;\n    var list = (0, _reactDom.findDOMNode)(this);\n    var idx = renderedIndexOf(focusedItem, list, data, dataState);\n    var selectedItem = list.children[idx];\n    if (selectedItem) (0, _widgetHelpers.notify)(onMove, [selectedItem, list, focusedItem]);\n  };\n\n  _proto.renderOption = function renderOption(item, index) {\n    var _this$props5 = this.props,\n        activeId = _this$props5.activeId,\n        focusedItem = _this$props5.focusedItem,\n        selectedItem = _this$props5.selectedItem,\n        onSelect = _this$props5.onSelect,\n        isDisabled = _this$props5.isDisabled,\n        searchTerm = _this$props5.searchTerm,\n        Option = _this$props5.optionComponent;\n    var isFocused = focusedItem === item;\n    return _react.default.createElement(Option, {\n      dataItem: item,\n      key: 'item_' + index,\n      index: index,\n      activeId: activeId,\n      focused: isFocused,\n      onSelect: onSelect,\n      disabled: isDisabled(item),\n      selected: selectedItem === item\n    }, this.renderItem({\n      item: item,\n      index: index,\n      searchTerm: searchTerm\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props6 = this.props,\n        className = _this$props6.className,\n        messages = _this$props6.messages;\n    var elementProps = Props.pickElementProps(this);\n\n    var _getMessages = (0, _messages.getMessages)(messages),\n        emptyList = _getMessages.emptyList;\n\n    return _react.default.createElement(_Listbox.default, _extends({}, elementProps, {\n      className: className,\n      emptyListMessage: emptyList(this.props)\n    }), this.mapItems(function (item, idx, isHeader) {\n      return isHeader ? _react.default.createElement(_ListOptionGroup.default, {\n        key: 'group_' + item,\n        group: item\n      }, _this2.renderGroup(item)) : _this2.renderOption(item, idx);\n    }));\n  };\n\n  return List;\n}(_react.default.Component);\n\nList.getDataState = _reduceToListState.defaultGetDataState;\n\nfunction renderedIndexOf(item, list, data, dataState) {\n  var groups = dataState.groups,\n      sortedKeys = dataState.sortedKeys;\n  if (!groups) return data.indexOf(item);\n  var runningIdx = -1;\n  var idx = -1;\n  sortedKeys.some(function (group) {\n    var itemIdx = groups[group].indexOf(item);\n    runningIdx++;\n\n    if (itemIdx !== -1) {\n      idx = runningIdx + itemIdx + 1;\n      return true;\n    }\n\n    runningIdx += groups[group].length;\n  });\n  return idx;\n}\n\nList.propTypes = propTypes;\nList.defaultProps = defaultProps;\nvar _default = List;\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}