{"ast":null,"code":"import _initializerDefineProperty from \"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp;\n\nimport { observable, action, reaction } from 'mobx';\nlet CommonStore = (_class = (_temp = class CommonStore {\n  constructor(rootStore) {\n    this.rootStore = void 0;\n\n    _initializerDefineProperty(this, \"token\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"appLoaded\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"setToken\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"setAppLoaded\", _descriptor4, this);\n\n    this.rootStore = rootStore;\n    reaction(() => this.token, token => {\n      if (token) {\n        window.localStorage.setItem('jwt', token);\n      } else {\n        window.localStorage.removeItem('jwt');\n      }\n    });\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"token\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return window.localStorage.getItem('jwt');\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"appLoaded\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"setToken\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return token => {\n      this.token = token;\n    };\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"setAppLoaded\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      this.appLoaded = true;\n    };\n  }\n})), _class);\nexport { CommonStore as default };","map":{"version":3,"sources":["C:\\Projects\\Reactivities\\client-app\\src\\app\\stores\\commonStore.ts"],"names":["observable","action","reaction","CommonStore","constructor","rootStore","token","window","localStorage","setItem","removeItem","getItem","appLoaded"],"mappings":";;;;;;AACA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,MAA7C;IAEqBC,W,sBAAN,MAAMA,WAAN,CAAkB;AAE7BC,EAAAA,WAAW,CAACC,SAAD,EAAuB;AAAA,SADlCA,SACkC;;AAAA;;AAAA;;AAAA;;AAAA;;AAC9B,SAAKA,SAAL,GAAiBA,SAAjB;AAEAH,IAAAA,QAAQ,CACJ,MAAM,KAAKI,KADP,EAEJA,KAAK,IAAI;AACL,UAAIA,KAAJ,EAAW;AACPC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,EAAmCH,KAAnC;AACH,OAFD,MAEO;AACHC,QAAAA,MAAM,CAACC,YAAP,CAAoBE,UAApB,CAA+B,KAA/B;AACH;AACJ,KARG,CAAR;AAUH;;AAf4B,C,+EAiB5BV,U;;;;;WAAkCO,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4B,KAA5B,C;;6EAClCX,U;;;;;WAAuB,K;;4EAEvBC,M;;;;;WAAmBK,KAAD,IAA0B;AACzC,WAAKA,KAAL,GAAaA,KAAb;AACH,K;;gFAEAL,M;;;;;WAAsB,MAAM;AACzB,WAAKW,SAAL,GAAiB,IAAjB;AACH,K;;;SA1BgBT,W","sourcesContent":["import {RootStore} from './rootStore';\nimport { observable, action, reaction } from 'mobx';\n\nexport default class CommonStore {\n    rootStore: RootStore;\n    constructor(rootStore: RootStore) {\n        this.rootStore = rootStore;\n\n        reaction(\n            () => this.token,\n            token => {\n                if (token) {\n                    window.localStorage.setItem('jwt', token);\n                } else {\n                    window.localStorage.removeItem('jwt')\n                }\n            }\n        )\n    }\n\n    @observable token: string | null = window.localStorage.getItem('jwt');\n    @observable appLoaded = false;\n\n    @action setToken = (token: string | null) => {\n        this.token = token;\n    }\n\n    @action setAppLoaded = () => {\n        this.appLoaded = true;\n    }\n}"]},"metadata":{},"sourceType":"module"}