{"ast":null,"code":"import _initializerDefineProperty from\"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";import _classCallCheck from\"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _applyDecoratedDescriptor from\"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";import _initializerWarningHelper from\"C:\\\\Projects\\\\Reactivities\\\\client-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";var _class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_temp;import{observable,action,reaction}from'mobx';var CommonStore=(_class=(_temp=function CommonStore(rootStore){var _this=this;_classCallCheck(this,CommonStore);this.rootStore=void 0;_initializerDefineProperty(this,\"token\",_descriptor,this);_initializerDefineProperty(this,\"appLoaded\",_descriptor2,this);_initializerDefineProperty(this,\"setToken\",_descriptor3,this);_initializerDefineProperty(this,\"setAppLoaded\",_descriptor4,this);this.rootStore=rootStore;reaction(function(){return _this.token;},function(token){if(token){window.localStorage.setItem('jwt',token);}else{window.localStorage.removeItem('jwt');}});},_temp),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"token\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return window.localStorage.getItem('jwt');}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"appLoaded\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return false;}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,\"setToken\",[action],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){var _this2=this;return function(token){_this2.token=token;};}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,\"setAppLoaded\",[action],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){var _this3=this;return function(){_this3.appLoaded=true;};}})),_class);export{CommonStore as default};","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/src/app/stores/commonStore.ts"],"names":["observable","action","reaction","CommonStore","rootStore","token","window","localStorage","setItem","removeItem","getItem","appLoaded"],"mappings":"kxBACA,OAASA,UAAT,CAAqBC,MAArB,CAA6BC,QAA7B,KAA6C,MAA7C,C,GAEqBC,CAAAA,W,gBAEjB,qBAAYC,SAAZ,CAAkC,uDADlCA,SACkC,iQAC9B,KAAKA,SAAL,CAAiBA,SAAjB,CAEAF,QAAQ,CACJ,iBAAM,CAAA,KAAI,CAACG,KAAX,EADI,CAEJ,SAAAA,KAAK,CAAI,CACL,GAAIA,KAAJ,CAAW,CACPC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,CAAmCH,KAAnC,EACH,CAFD,IAEO,CACHC,MAAM,CAACC,YAAP,CAAoBE,UAApB,CAA+B,KAA/B,EACH,CACJ,CARG,CAAR,CAUH,C,yEAEAT,U,4FAAkCM,CAAAA,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4B,KAA5B,C,0EAClCV,U,4FAAuB,M,yEAEvBC,M,4GAAkB,UAACI,KAAD,CAA0B,CACzC,MAAI,CAACA,KAAL,CAAaA,KAAb,CACH,C,6EAEAJ,M,4GAAsB,WAAM,CACzB,MAAI,CAACU,SAAL,CAAiB,IAAjB,CACH,C,qBA1BgBR,W","sourcesContent":["import {RootStore} from './rootStore';\nimport { observable, action, reaction } from 'mobx';\n\nexport default class CommonStore {\n    rootStore: RootStore;\n    constructor(rootStore: RootStore) {\n        this.rootStore = rootStore;\n\n        reaction(\n            () => this.token,\n            token => {\n                if (token) {\n                    window.localStorage.setItem('jwt', token);\n                } else {\n                    window.localStorage.removeItem('jwt')\n                }\n            }\n        )\n    }\n\n    @observable token: string | null = window.localStorage.getItem('jwt');\n    @observable appLoaded = false;\n\n    @action setToken = (token: string | null) => {\n        this.token = token;\n    }\n\n    @action setAppLoaded = () => {\n        this.appLoaded = true;\n    }\n}"]},"metadata":{},"sourceType":"module"}