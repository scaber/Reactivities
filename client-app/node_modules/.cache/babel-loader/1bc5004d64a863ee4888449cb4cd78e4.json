{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/query/closest\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _uncontrollable = _interopRequireDefault(require(\"uncontrollable\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _Select = _interopRequireDefault(require(\"./Select\"));\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _MultiselectInput = _interopRequireDefault(require(\"./MultiselectInput\"));\n\nvar _MultiselectTagList = _interopRequireDefault(require(\"./MultiselectTagList\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _AddToListOption = _interopRequireDefault(require(\"./AddToListOption\"));\n\nvar _ = require(\"./util/_\");\n\nvar Filter = _interopRequireWildcard(require(\"./util/Filter\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar _messages = require(\"./messages\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _reduceToListState = _interopRequireWildcard(require(\"./util/reduceToListState\"));\n\nvar _getAccessors = _interopRequireDefault(require(\"./util/getAccessors\"));\n\nvar _focusManager = _interopRequireDefault(require(\"./util/focusManager\"));\n\nvar _scrollManager = _interopRequireDefault(require(\"./util/scrollManager\"));\n\nvar _interaction = require(\"./util/interaction\");\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _Icon = require(\"./Icon\");\n\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class3, _temp;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar CREATE_OPTION = {};\nvar ENTER = 13;\nvar INSERT = 'insert';\nvar REMOVE = 'remove';\n\nvar propTypes = _extends({}, Filter.propTypes, {\n  data: _propTypes.default.array,\n  //-- controlled props --\n  value: _propTypes.default.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n  //-------------------------------------------\n  valueField: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  tagComponent: CustomPropTypes.elementType,\n  itemComponent: CustomPropTypes.elementType,\n  listComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: _propTypes.default.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: _propTypes.default.func,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: CustomPropTypes.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  autoFocus: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  isRtl: _propTypes.default.bool,\n  messages: _propTypes.default.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n  /**\n   * ---\n   * shortcuts:\n   *   - { key: left arrow, label: move focus to previous tag }\n   *   - { key: right arrow, label: move focus to next tag }\n   *   - { key: delete, deselect focused tag }\n   *   - { key: backspace, deselect next tag }\n   *   - { key: alt + up arrow, label: close Multiselect }\n   *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n   *   - { key: up arrow, label: move focus to previous item }\n   *   - { key: home, label: move focus to first item }\n   *   - { key: end, label: move focus to last item }\n   *   - { key: enter, label: select focused item }\n   *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n   *   - { key: any key, label: search list for item starting with key }\n   * ---\n   *\n   * A select listbox alternative.\n   *\n   * @public\n   */\n\n});\n\nvar Multiselect = (0, _reactLifecyclesCompat.polyfill)(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Multiselect, _React$Component);\n\n  function Multiselect() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleFocusDidChange = function (focused) {\n      if (focused) return _this.focus();\n\n      _this.close();\n\n      _this.clearSearch();\n\n      if (_this.tagsRef) _this.setState({\n        focusedTag: null\n      });\n    };\n\n    _this.handleDelete = function (dataItem, event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly;\n      if (disabled == true || readOnly) return;\n\n      _this.focus();\n\n      _this.change(dataItem, event, REMOVE);\n    };\n\n    _this.handleSearchKeyDown = function (e) {\n      if (e.key === 'Backspace' && e.target.value && !_this._deletingText) _this._deletingText = true;\n    };\n\n    _this.handleSearchKeyUp = function (e) {\n      if (e.key === 'Backspace' && _this._deletingText) _this._deletingText = false;\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.search(e.target.value, e, 'input');\n\n      _this.open();\n    };\n\n    _initializerDefineProperty(_this, \"handleClick\", _descriptor, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleDoubleClick\", _descriptor2, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleSelect\", _descriptor3, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleCreate\", _descriptor4, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleKeyDown\", _descriptor5, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.attachListRef = function (ref) {\n      return _this.listRef = ref;\n    };\n\n    _this.attachTagsRef = function (ref) {\n      return _this.tagsRef = ref;\n    };\n\n    _this.attachInputRef = function (ref) {\n      return _this.inputRef = ref;\n    };\n\n    _this.inputId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_input');\n    _this.tagsId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_taglist');\n    _this.notifyId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_notify_area');\n    _this.listId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox');\n    _this.createId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_createlist_option');\n    _this.activeTagId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_taglist_active_tag');\n    _this.activeOptionId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox_active_option');\n    _this.handleScroll = (0, _scrollManager.default)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focusManager = (0, _focusManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      didHandle: _this.handleFocusDidChange\n    });\n    _this.state = {\n      focusedTag: null\n    };\n    return _this;\n  }\n\n  Multiselect.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var data = nextProps.data,\n        searchTerm = nextProps.searchTerm,\n        messages = nextProps.messages,\n        minLength = nextProps.minLength,\n        caseSensitive = nextProps.caseSensitive,\n        filter = nextProps.filter;\n    var focusedItem = prevState.focusedItem,\n        focusedTag = prevState.focusedTag;\n    var accessors = (0, _getAccessors.default)(nextProps);\n    var valueChanged = nextProps.value !== prevState.lastValue;\n    var values = (0, _.makeArray)(nextProps.value);\n    var dataItems = valueChanged ? values.map(function (item) {\n      return accessors.findOrSelf(data, item);\n    }) : prevState.dataItems;\n    data = data.filter(function (i) {\n      return !values.some(function (v) {\n        return accessors.matches(i, v);\n      });\n    });\n    var lengthWithoutValues = data.length;\n    data = Filter.filter(data, {\n      filter: filter,\n      searchTerm: searchTerm,\n      minLength: minLength,\n      caseSensitive: caseSensitive,\n      textField: accessors.text\n    });\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    var tagList = (0, _reduceToListState.default)(dataItems, prevState.tagList, {\n      nextProps: nextProps,\n      getDataState: _reduceToListState.defaultGetDataState\n    });\n    var nextFocusedItem = ~data.indexOf(focusedItem) ? focusedItem : data[0];\n    return {\n      data: data,\n      dataItems: dataItems,\n      list: list,\n      tagList: tagList,\n      accessors: accessors,\n      lengthWithoutValues: lengthWithoutValues,\n      lastValue: nextProps.value,\n      messages: (0, _messages.getMessages)(messages),\n      focusedTag: valueChanged ? list.nextEnabled(~dataItems.indexOf(focusedTag) ? focusedTag : null) : focusedTag,\n      focusedItem: valueChanged || prevState.focusedItem === undefined ? list.nextEnabled(nextFocusedItem) : nextFocusedItem\n    };\n  };\n\n  var _proto = Multiselect.prototype;\n\n  _proto.renderInput = function renderInput(ownedIds) {\n    var _this$props2 = this.props,\n        searchTerm = _this$props2.searchTerm,\n        maxLength = _this$props2.maxLength,\n        tabIndex = _this$props2.tabIndex,\n        busy = _this$props2.busy,\n        autoFocus = _this$props2.autoFocus,\n        inputProps = _this$props2.inputProps,\n        open = _this$props2.open;\n    var _this$state = this.state,\n        focusedItem = _this$state.focusedItem,\n        focusedTag = _this$state.focusedTag;\n    var disabled = this.props.disabled === true;\n    var readOnly = this.props.readOnly === true;\n    var active;\n    if (!open) active = focusedTag ? this.activeTagId : '';else if (focusedItem || this.allowCreate()) active = this.activeOptionId;\n    return _react.default.createElement(_MultiselectInput.default, _extends({}, inputProps, {\n      autoFocus: autoFocus,\n      tabIndex: tabIndex || 0,\n      role: \"listbox\",\n      \"aria-expanded\": !!open,\n      \"aria-busy\": !!busy,\n      \"aria-owns\": ownedIds,\n      \"aria-haspopup\": true,\n      \"aria-activedescendant\": active || null,\n      value: searchTerm,\n      maxLength: maxLength,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: this.getPlaceholder(),\n      onKeyDown: this.handleSearchKeyDown,\n      onKeyUp: this.handleSearchKeyUp,\n      onChange: this.handleInputChange,\n      ref: this.attachInputRef\n    }));\n  };\n\n  _proto.renderList = function renderList() {\n    var inputId = this.inputId,\n        activeOptionId = this.activeOptionId,\n        listId = this.listId;\n    var _this$props3 = this.props,\n        open = _this$props3.open,\n        searchTerm = _this$props3.searchTerm,\n        optionComponent = _this$props3.optionComponent,\n        itemComponent = _this$props3.itemComponent,\n        groupComponent = _this$props3.groupComponent,\n        listProps = _this$props3.listProps;\n    var _this$state2 = this.state,\n        focusedItem = _this$state2.focusedItem,\n        list = _this$state2.list,\n        lengthWithoutValues = _this$state2.lengthWithoutValues,\n        accessors = _this$state2.accessors,\n        data = _this$state2.data,\n        messages = _this$state2.messages;\n    var List = this.props.listComponent;\n    return _react.default.createElement(List, _extends({}, listProps, {\n      id: listId,\n      activeId: activeOptionId,\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      searchTerm: searchTerm,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      itemComponent: itemComponent,\n      groupComponent: groupComponent,\n      optionComponent: optionComponent,\n      focusedItem: focusedItem,\n      onSelect: this.handleSelect,\n      onMove: this.handleScroll,\n      \"aria-live\": \"polite\",\n      \"aria-labelledby\": inputId,\n      \"aria-hidden\": !open,\n      ref: this.attachListRef,\n      messages: {\n        emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n      }\n    }));\n  };\n\n  _proto.renderNotificationArea = function renderNotificationArea() {\n    var _this$state3 = this.state,\n        focused = _this$state3.focused,\n        dataItems = _this$state3.dataItems,\n        accessors = _this$state3.accessors,\n        messages = _this$state3.messages;\n    var itemLabels = dataItems.map(function (item) {\n      return accessors.text(item);\n    });\n    return _react.default.createElement(\"span\", {\n      id: this.notifyId,\n      role: \"status\",\n      className: \"rw-sr\",\n      \"aria-live\": \"assertive\",\n      \"aria-atomic\": \"true\",\n      \"aria-relevant\": \"additions removals text\"\n    }, focused && (dataItems.length ? messages.selectedItems(itemLabels) : messages.noneSelected()));\n  };\n\n  _proto.renderTags = function renderTags() {\n    var _this$props4 = this.props,\n        readOnly = _this$props4.readOnly,\n        disabled = _this$props4.disabled;\n    var _this$state4 = this.state,\n        focusedTag = _this$state4.focusedTag,\n        dataItems = _this$state4.dataItems,\n        accessors = _this$state4.accessors,\n        messages = _this$state4.messages;\n    var Component = this.props.tagComponent;\n    return _react.default.createElement(_MultiselectTagList.default, {\n      id: this.tagsId,\n      activeId: this.activeTagId,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      label: messages.tagsLabel(),\n      value: dataItems,\n      readOnly: readOnly,\n      disabled: disabled,\n      focusedItem: focusedTag,\n      onDelete: this.handleDelete,\n      valueComponent: Component,\n      ref: this.attachTagsRef\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props5 = this.props,\n        className = _this$props5.className,\n        busy = _this$props5.busy,\n        dropUp = _this$props5.dropUp,\n        open = _this$props5.open,\n        searchTerm = _this$props5.searchTerm,\n        selectIcon = _this$props5.selectIcon,\n        busySpinner = _this$props5.busySpinner,\n        containerClassName = _this$props5.containerClassName,\n        popupTransition = _this$props5.popupTransition;\n    var _this$state5 = this.state,\n        focused = _this$state5.focused,\n        focusedItem = _this$state5.focusedItem,\n        dataItems = _this$state5.dataItems,\n        messages = _this$state5.messages;\n    var elementProps = Props.pickElementProps(this);\n    var shouldRenderTags = !!dataItems.length,\n        shouldRenderPopup = (0, _widgetHelpers.isFirstFocusedRender)(this),\n        allowCreate = this.allowCreate();\n    var inputOwns = this.listId + \" \" + this.notifyId + \" \" + (shouldRenderTags ? this.tagsId : '') + (allowCreate ? this.createId : '');\n    var disabled = this.props.disabled === true;\n    var readOnly = this.props.readOnly === true;\n    return _react.default.createElement(_Widget.default, _extends({}, elementProps, {\n      open: open,\n      dropUp: dropUp,\n      focused: focused,\n      disabled: disabled,\n      readOnly: readOnly,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.focusManager.handleBlur,\n      onFocus: this.focusManager.handleFocus,\n      className: (0, _classnames.default)(className, 'rw-multiselect')\n    }), this.renderNotificationArea(messages), _react.default.createElement(_WidgetPicker.default, {\n      onClick: this.handleClick,\n      onTouchEnd: this.handleClick,\n      onDoubleClick: this.handleDoubleClick,\n      className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n    }, _react.default.createElement(\"div\", null, shouldRenderTags && this.renderTags(messages), this.renderInput(inputOwns)), _react.default.createElement(_Select.default, {\n      busy: busy,\n      spinner: busySpinner,\n      icon: focused ? selectIcon : null,\n      \"aria-hidden\": \"true\",\n      role: \"presentational\",\n      disabled: disabled || readOnly\n    })), shouldRenderPopup && _react.default.createElement(_Popup.default, {\n      dropUp: dropUp,\n      open: open,\n      transition: popupTransition,\n      onEntering: function onEntering() {\n        return _this2.listRef.forceUpdate();\n      }\n    }, _react.default.createElement(\"div\", null, this.renderList(), allowCreate && _react.default.createElement(_AddToListOption.default, {\n      id: this.createId,\n      searchTerm: searchTerm,\n      onSelect: this.handleCreate,\n      focused: !focusedItem || focusedItem === CREATE_OPTION\n    }, messages.createOption(this.props)))));\n  };\n\n  _proto.change = function change(dataItem, originalEvent, action) {\n    var _this$props6 = this.props,\n        onChange = _this$props6.onChange,\n        searchTerm = _this$props6.searchTerm,\n        lastValue = _this$props6.value;\n    var dataItems = this.state.dataItems;\n\n    switch (action) {\n      case INSERT:\n        dataItems = dataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        dataItems = dataItems.filter(function (d) {\n          return d !== dataItem;\n        });\n        break;\n    }\n\n    (0, _widgetHelpers.notify)(onChange, [dataItems, {\n      action: action,\n      dataItem: dataItem,\n      originalEvent: originalEvent,\n      lastValue: lastValue,\n      searchTerm: searchTerm\n    }]);\n    this.clearSearch(originalEvent);\n  };\n\n  _proto.clearSearch = function clearSearch(originalEvent) {\n    this.search('', originalEvent, 'clear');\n  };\n\n  _proto.search = function search(searchTerm, originalEvent, action) {\n    if (action === void 0) {\n      action = 'input';\n    }\n\n    var _this$props7 = this.props,\n        onSearch = _this$props7.onSearch,\n        lastSearchTerm = _this$props7.searchTerm;\n    if (searchTerm !== lastSearchTerm) (0, _widgetHelpers.notify)(onSearch, [searchTerm, {\n      action: action,\n      lastSearchTerm: lastSearchTerm,\n      originalEvent: originalEvent\n    }]);\n  };\n\n  _proto.focus = function focus() {\n    if (this.inputRef) this.inputRef.focus();\n  };\n\n  _proto.toggle = function toggle() {\n    this.props.open ? this.close() : this.open();\n  };\n\n  _proto.open = function open() {\n    if (!this.props.open) (0, _widgetHelpers.notify)(this.props.onToggle, true);\n  };\n\n  _proto.close = function close() {\n    if (this.props.open) (0, _widgetHelpers.notify)(this.props.onToggle, false);\n  };\n\n  _proto.allowCreate = function allowCreate() {\n    var _this$props8 = this.props,\n        searchTerm = _this$props8.searchTerm,\n        onCreate = _this$props8.onCreate,\n        allowCreate = _this$props8.allowCreate;\n    return !!(onCreate && (allowCreate === true || allowCreate === 'onFilter' && searchTerm) && !this.hasExtactMatch());\n  };\n\n  _proto.hasExtactMatch = function hasExtactMatch() {\n    var _this$props9 = this.props,\n        searchTerm = _this$props9.searchTerm,\n        caseSensitive = _this$props9.caseSensitive;\n    var _this$state6 = this.state,\n        data = _this$state6.data,\n        dataItems = _this$state6.dataItems,\n        accessors = _this$state6.accessors;\n\n    var lower = function lower(text) {\n      return caseSensitive ? text : text.toLowerCase();\n    };\n\n    var eq = function eq(v) {\n      return lower(accessors.text(v)) === lower(searchTerm);\n    }; // if there is an exact match on textFields:\n    // \"john\" => { name: \"john\" }, don't show\n\n\n    return dataItems.some(eq) || data.some(eq);\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    var _this$props10 = this.props,\n        value = _this$props10.value,\n        placeholder = _this$props10.placeholder,\n        showPlaceholderWithValues = _this$props10.showPlaceholderWithValues;\n    return (value && value.length && !showPlaceholderWithValues ? '' : placeholder) || '';\n  };\n\n  return Multiselect;\n}(_react.default.Component), _class3.propTypes = propTypes, _class3.defaultProps = {\n  data: [],\n  allowCreate: 'onFilter',\n  filter: 'startsWith',\n  value: [],\n  searchTerm: '',\n  selectIcon: _Icon.caretDown,\n  listComponent: _List.default,\n  showPlaceholderWithValues: false\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"handleClick\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function (_ref) {\n      var target = _ref.target;\n\n      _this3.focus();\n\n      if ((0, _closest.default)(target, '.rw-select')) _this3.toggle();else _this3.open();\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"handleDoubleClick\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function () {\n      if (!_this4.inputRef) return;\n\n      _this4.focus();\n\n      _this4.inputRef.select();\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"handleSelect\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this5 = this;\n\n    return function (dataItem, originalEvent) {\n      if (dataItem === undefined || dataItem === CREATE_OPTION) {\n        _this5.handleCreate(_this5.props.searchTerm, originalEvent);\n\n        return;\n      }\n\n      (0, _widgetHelpers.notify)(_this5.props.onSelect, [dataItem, {\n        originalEvent: originalEvent\n      }]);\n\n      _this5.change(dataItem, originalEvent, INSERT);\n\n      _this5.focus();\n    };\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"handleCreate\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this6 = this;\n\n    return function (searchTerm, event) {\n      if (searchTerm === void 0) {\n        searchTerm = '';\n      }\n\n      (0, _widgetHelpers.notify)(_this6.props.onCreate, searchTerm);\n\n      _this6.clearSearch(event);\n\n      _this6.focus();\n    };\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyDown\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this7 = this;\n\n    return function (event) {\n      var _this7$props = _this7.props,\n          open = _this7$props.open,\n          searchTerm = _this7$props.searchTerm,\n          onKeyDown = _this7$props.onKeyDown;\n      var key = event.key,\n          keyCode = event.keyCode,\n          altKey = event.altKey,\n          ctrlKey = event.ctrlKey;\n      var _this7$state = _this7.state,\n          focusedTag = _this7$state.focusedTag,\n          focusedItem = _this7$state.focusedItem,\n          list = _this7$state.list,\n          tagList = _this7$state.tagList;\n      var createIsFocused = focusedItem === CREATE_OPTION;\n\n      var canCreate = _this7.allowCreate();\n\n      var focusTag = function focusTag(tag) {\n        return _this7.setState({\n          focusedTag: tag\n        });\n      };\n\n      var focusItem = function focusItem(item) {\n        return _this7.setState({\n          focusedItem: item,\n          focusedTag: null\n        });\n      };\n\n      (0, _widgetHelpers.notify)(onKeyDown, [event]);\n      if (event.defaultPrevented) return;\n\n      if (key === 'ArrowDown') {\n        event.preventDefault();\n        if (!open) return _this7.open();\n        var next = list.next(focusedItem);\n        var creating = createIsFocused || canCreate && focusedItem === next;\n        focusItem(creating ? CREATE_OPTION : next);\n      } else if (key === 'ArrowUp' && (open || altKey)) {\n        event.preventDefault();\n        if (altKey) return _this7.close();\n        focusItem(createIsFocused ? list.last() : list.prev(focusedItem));\n      } else if (key === 'End') {\n        event.preventDefault();\n        if (open) focusItem(list.last());else focusTag(tagList.last());\n      } else if (key === 'Home') {\n        event.preventDefault();\n        if (open) focusItem(list.first());else focusTag(tagList.first());\n      } else if (open && keyCode === ENTER) {\n        // using keyCode to ignore enter for japanese IME\n        event.preventDefault();\n        if (ctrlKey && canCreate) return _this7.handleCreate(searchTerm, event);\n\n        _this7.handleSelect(focusedItem, event);\n      } else if (key === 'Escape') {\n        open ? _this7.close() : tagList && focusTag(null);\n      } else if (!searchTerm && !_this7._deletingText) {\n        if (key === 'ArrowLeft') {\n          focusTag(tagList.prev(focusedTag) || tagList.last());\n        } else if (key === 'ArrowRight' && focusedTag) {\n          var nextTag = tagList.next(focusedTag);\n          focusTag(nextTag === focusedTag ? null : nextTag);\n        } else if (key === 'Delete' && !tagList.isDisabled(focusedTag)) {\n          _this7.handleDelete(focusedTag, event);\n        } else if (key === 'Backspace') {\n          _this7.handleDelete(tagList.last(), event);\n        } else if (key === ' ' && !open) {\n          event.preventDefault();\n\n          _this7.open();\n        }\n      }\n    };\n  }\n})), _class2)) || _class;\n\nvar _default = (0, _uncontrollable.default)(Multiselect, {\n  open: 'onToggle',\n  value: 'onChange',\n  searchTerm: 'onSearch'\n}, ['focus']);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/node_modules/react-widgets/lib/Multiselect.js"],"names":["exports","__esModule","default","_classnames","_interopRequireDefault","require","_closest","_propTypes","_react","_reactLifecyclesCompat","_uncontrollable","_Widget","_WidgetPicker","_Select","_Popup","_MultiselectInput","_MultiselectTagList","_List","_AddToListOption","_","Filter","_interopRequireWildcard","Props","_messages","CustomPropTypes","_reduceToListState","_getAccessors","_focusManager","_scrollManager","_interaction","_widgetHelpers","_Icon","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_class3","_temp","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_initializerDefineProperty","target","property","descriptor","context","enumerable","configurable","writable","value","initializer","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","_applyDecoratedDescriptor","decorators","forEach","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","_extends","assign","i","arguments","length","source","apply","CREATE_OPTION","ENTER","INSERT","REMOVE","propTypes","data","array","onChange","func","searchTerm","string","onSearch","open","bool","onToggle","valueField","accessor","textField","tagComponent","elementType","itemComponent","listComponent","groupComponent","groupBy","allowCreate","oneOf","onSelect","onCreate","busy","selectIcon","node","busySpinner","dropUp","popupTransition","containerClassName","inputProps","object","listProps","autoFocus","placeholder","showPlaceholderWithValues","disabled","acceptsArray","readOnly","isRtl","messages","shape","message","emptyList","emptyFilter","createOption","tagsLabel","selectedItems","noneSelected","removeLabel","Multiselect","polyfill","_React$Component","_this","_len","args","Array","_key","concat","handleFocusDidChange","focused","focus","close","clearSearch","tagsRef","setState","focusedTag","handleDelete","dataItem","event","_this$props","props","change","handleSearchKeyDown","e","_deletingText","handleSearchKeyUp","handleInputChange","search","attachListRef","ref","listRef","attachTagsRef","attachInputRef","inputRef","inputId","instanceId","tagsId","notifyId","listId","createId","activeTagId","activeOptionId","handleScroll","focusManager","didHandle","state","getDerivedStateFromProps","nextProps","prevState","minLength","caseSensitive","filter","focusedItem","accessors","valueChanged","lastValue","values","makeArray","dataItems","map","item","findOrSelf","some","v","matches","lengthWithoutValues","text","list","tagList","getDataState","defaultGetDataState","nextFocusedItem","indexOf","getMessages","nextEnabled","_proto","renderInput","ownedIds","_this$props2","maxLength","tabIndex","_this$state","active","createElement","role","getPlaceholder","onKeyDown","onKeyUp","renderList","_this$props3","optionComponent","_this$state2","List","id","activeId","dataState","isDisabled","textAccessor","valueAccessor","handleSelect","onMove","renderNotificationArea","_this$state3","itemLabels","className","renderTags","_this$props4","_this$state4","Component","label","onDelete","valueComponent","render","_this2","_this$props5","_this$state5","elementProps","pickElementProps","shouldRenderTags","shouldRenderPopup","isFirstFocusedRender","inputOwns","handleKeyDown","onBlur","handleBlur","onFocus","handleFocus","onClick","handleClick","onTouchEnd","onDoubleClick","handleDoubleClick","spinner","icon","transition","onEntering","forceUpdate","handleCreate","originalEvent","action","_this$props6","d","notify","_this$props7","lastSearchTerm","toggle","_this$props8","hasExtactMatch","_this$props9","_this$state6","lower","toLowerCase","eq","_this$props10","defaultProps","caretDown","widgetEditable","_this3","_ref","_this4","select","_this5","_this6","_this7","_this7$props","keyCode","altKey","ctrlKey","_this7$state","createIsFocused","canCreate","focusTag","tag","focusItem","defaultPrevented","preventDefault","next","creating","last","prev","first","nextTag","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/query/closest\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _uncontrollable = _interopRequireDefault(require(\"uncontrollable\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _Select = _interopRequireDefault(require(\"./Select\"));\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _MultiselectInput = _interopRequireDefault(require(\"./MultiselectInput\"));\n\nvar _MultiselectTagList = _interopRequireDefault(require(\"./MultiselectTagList\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _AddToListOption = _interopRequireDefault(require(\"./AddToListOption\"));\n\nvar _ = require(\"./util/_\");\n\nvar Filter = _interopRequireWildcard(require(\"./util/Filter\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar _messages = require(\"./messages\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _reduceToListState = _interopRequireWildcard(require(\"./util/reduceToListState\"));\n\nvar _getAccessors = _interopRequireDefault(require(\"./util/getAccessors\"));\n\nvar _focusManager = _interopRequireDefault(require(\"./util/focusManager\"));\n\nvar _scrollManager = _interopRequireDefault(require(\"./util/scrollManager\"));\n\nvar _interaction = require(\"./util/interaction\");\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _Icon = require(\"./Icon\");\n\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class3, _temp;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar CREATE_OPTION = {};\nvar ENTER = 13;\nvar INSERT = 'insert';\nvar REMOVE = 'remove';\n\nvar propTypes = _extends({}, Filter.propTypes, {\n  data: _propTypes.default.array,\n  //-- controlled props --\n  value: _propTypes.default.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n  //-------------------------------------------\n  valueField: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  tagComponent: CustomPropTypes.elementType,\n  itemComponent: CustomPropTypes.elementType,\n  listComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: _propTypes.default.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: _propTypes.default.func,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: CustomPropTypes.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  autoFocus: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  isRtl: _propTypes.default.bool,\n  messages: _propTypes.default.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n  /**\n   * ---\n   * shortcuts:\n   *   - { key: left arrow, label: move focus to previous tag }\n   *   - { key: right arrow, label: move focus to next tag }\n   *   - { key: delete, deselect focused tag }\n   *   - { key: backspace, deselect next tag }\n   *   - { key: alt + up arrow, label: close Multiselect }\n   *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n   *   - { key: up arrow, label: move focus to previous item }\n   *   - { key: home, label: move focus to first item }\n   *   - { key: end, label: move focus to last item }\n   *   - { key: enter, label: select focused item }\n   *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n   *   - { key: any key, label: search list for item starting with key }\n   * ---\n   *\n   * A select listbox alternative.\n   *\n   * @public\n   */\n\n});\n\nvar Multiselect = (0, _reactLifecyclesCompat.polyfill)(_class = (_class2 = (_temp = _class3 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Multiselect, _React$Component);\n\n  function Multiselect() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleFocusDidChange = function (focused) {\n      if (focused) return _this.focus();\n\n      _this.close();\n\n      _this.clearSearch();\n\n      if (_this.tagsRef) _this.setState({\n        focusedTag: null\n      });\n    };\n\n    _this.handleDelete = function (dataItem, event) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly;\n      if (disabled == true || readOnly) return;\n\n      _this.focus();\n\n      _this.change(dataItem, event, REMOVE);\n    };\n\n    _this.handleSearchKeyDown = function (e) {\n      if (e.key === 'Backspace' && e.target.value && !_this._deletingText) _this._deletingText = true;\n    };\n\n    _this.handleSearchKeyUp = function (e) {\n      if (e.key === 'Backspace' && _this._deletingText) _this._deletingText = false;\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.search(e.target.value, e, 'input');\n\n      _this.open();\n    };\n\n    _initializerDefineProperty(_this, \"handleClick\", _descriptor, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleDoubleClick\", _descriptor2, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleSelect\", _descriptor3, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleCreate\", _descriptor4, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleKeyDown\", _descriptor5, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.attachListRef = function (ref) {\n      return _this.listRef = ref;\n    };\n\n    _this.attachTagsRef = function (ref) {\n      return _this.tagsRef = ref;\n    };\n\n    _this.attachInputRef = function (ref) {\n      return _this.inputRef = ref;\n    };\n\n    _this.inputId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_input');\n    _this.tagsId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_taglist');\n    _this.notifyId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_notify_area');\n    _this.listId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox');\n    _this.createId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_createlist_option');\n    _this.activeTagId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_taglist_active_tag');\n    _this.activeOptionId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox_active_option');\n    _this.handleScroll = (0, _scrollManager.default)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focusManager = (0, _focusManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      didHandle: _this.handleFocusDidChange\n    });\n    _this.state = {\n      focusedTag: null\n    };\n    return _this;\n  }\n\n  Multiselect.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var data = nextProps.data,\n        searchTerm = nextProps.searchTerm,\n        messages = nextProps.messages,\n        minLength = nextProps.minLength,\n        caseSensitive = nextProps.caseSensitive,\n        filter = nextProps.filter;\n    var focusedItem = prevState.focusedItem,\n        focusedTag = prevState.focusedTag;\n    var accessors = (0, _getAccessors.default)(nextProps);\n    var valueChanged = nextProps.value !== prevState.lastValue;\n    var values = (0, _.makeArray)(nextProps.value);\n    var dataItems = valueChanged ? values.map(function (item) {\n      return accessors.findOrSelf(data, item);\n    }) : prevState.dataItems;\n    data = data.filter(function (i) {\n      return !values.some(function (v) {\n        return accessors.matches(i, v);\n      });\n    });\n    var lengthWithoutValues = data.length;\n    data = Filter.filter(data, {\n      filter: filter,\n      searchTerm: searchTerm,\n      minLength: minLength,\n      caseSensitive: caseSensitive,\n      textField: accessors.text\n    });\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    var tagList = (0, _reduceToListState.default)(dataItems, prevState.tagList, {\n      nextProps: nextProps,\n      getDataState: _reduceToListState.defaultGetDataState\n    });\n    var nextFocusedItem = ~data.indexOf(focusedItem) ? focusedItem : data[0];\n    return {\n      data: data,\n      dataItems: dataItems,\n      list: list,\n      tagList: tagList,\n      accessors: accessors,\n      lengthWithoutValues: lengthWithoutValues,\n      lastValue: nextProps.value,\n      messages: (0, _messages.getMessages)(messages),\n      focusedTag: valueChanged ? list.nextEnabled(~dataItems.indexOf(focusedTag) ? focusedTag : null) : focusedTag,\n      focusedItem: valueChanged || prevState.focusedItem === undefined ? list.nextEnabled(nextFocusedItem) : nextFocusedItem\n    };\n  };\n\n  var _proto = Multiselect.prototype;\n\n  _proto.renderInput = function renderInput(ownedIds) {\n    var _this$props2 = this.props,\n        searchTerm = _this$props2.searchTerm,\n        maxLength = _this$props2.maxLength,\n        tabIndex = _this$props2.tabIndex,\n        busy = _this$props2.busy,\n        autoFocus = _this$props2.autoFocus,\n        inputProps = _this$props2.inputProps,\n        open = _this$props2.open;\n    var _this$state = this.state,\n        focusedItem = _this$state.focusedItem,\n        focusedTag = _this$state.focusedTag;\n    var disabled = this.props.disabled === true;\n    var readOnly = this.props.readOnly === true;\n    var active;\n    if (!open) active = focusedTag ? this.activeTagId : '';else if (focusedItem || this.allowCreate()) active = this.activeOptionId;\n    return _react.default.createElement(_MultiselectInput.default, _extends({}, inputProps, {\n      autoFocus: autoFocus,\n      tabIndex: tabIndex || 0,\n      role: \"listbox\",\n      \"aria-expanded\": !!open,\n      \"aria-busy\": !!busy,\n      \"aria-owns\": ownedIds,\n      \"aria-haspopup\": true,\n      \"aria-activedescendant\": active || null,\n      value: searchTerm,\n      maxLength: maxLength,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: this.getPlaceholder(),\n      onKeyDown: this.handleSearchKeyDown,\n      onKeyUp: this.handleSearchKeyUp,\n      onChange: this.handleInputChange,\n      ref: this.attachInputRef\n    }));\n  };\n\n  _proto.renderList = function renderList() {\n    var inputId = this.inputId,\n        activeOptionId = this.activeOptionId,\n        listId = this.listId;\n    var _this$props3 = this.props,\n        open = _this$props3.open,\n        searchTerm = _this$props3.searchTerm,\n        optionComponent = _this$props3.optionComponent,\n        itemComponent = _this$props3.itemComponent,\n        groupComponent = _this$props3.groupComponent,\n        listProps = _this$props3.listProps;\n    var _this$state2 = this.state,\n        focusedItem = _this$state2.focusedItem,\n        list = _this$state2.list,\n        lengthWithoutValues = _this$state2.lengthWithoutValues,\n        accessors = _this$state2.accessors,\n        data = _this$state2.data,\n        messages = _this$state2.messages;\n    var List = this.props.listComponent;\n    return _react.default.createElement(List, _extends({}, listProps, {\n      id: listId,\n      activeId: activeOptionId,\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      searchTerm: searchTerm,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      itemComponent: itemComponent,\n      groupComponent: groupComponent,\n      optionComponent: optionComponent,\n      focusedItem: focusedItem,\n      onSelect: this.handleSelect,\n      onMove: this.handleScroll,\n      \"aria-live\": \"polite\",\n      \"aria-labelledby\": inputId,\n      \"aria-hidden\": !open,\n      ref: this.attachListRef,\n      messages: {\n        emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n      }\n    }));\n  };\n\n  _proto.renderNotificationArea = function renderNotificationArea() {\n    var _this$state3 = this.state,\n        focused = _this$state3.focused,\n        dataItems = _this$state3.dataItems,\n        accessors = _this$state3.accessors,\n        messages = _this$state3.messages;\n    var itemLabels = dataItems.map(function (item) {\n      return accessors.text(item);\n    });\n    return _react.default.createElement(\"span\", {\n      id: this.notifyId,\n      role: \"status\",\n      className: \"rw-sr\",\n      \"aria-live\": \"assertive\",\n      \"aria-atomic\": \"true\",\n      \"aria-relevant\": \"additions removals text\"\n    }, focused && (dataItems.length ? messages.selectedItems(itemLabels) : messages.noneSelected()));\n  };\n\n  _proto.renderTags = function renderTags() {\n    var _this$props4 = this.props,\n        readOnly = _this$props4.readOnly,\n        disabled = _this$props4.disabled;\n    var _this$state4 = this.state,\n        focusedTag = _this$state4.focusedTag,\n        dataItems = _this$state4.dataItems,\n        accessors = _this$state4.accessors,\n        messages = _this$state4.messages;\n    var Component = this.props.tagComponent;\n    return _react.default.createElement(_MultiselectTagList.default, {\n      id: this.tagsId,\n      activeId: this.activeTagId,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      label: messages.tagsLabel(),\n      value: dataItems,\n      readOnly: readOnly,\n      disabled: disabled,\n      focusedItem: focusedTag,\n      onDelete: this.handleDelete,\n      valueComponent: Component,\n      ref: this.attachTagsRef\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props5 = this.props,\n        className = _this$props5.className,\n        busy = _this$props5.busy,\n        dropUp = _this$props5.dropUp,\n        open = _this$props5.open,\n        searchTerm = _this$props5.searchTerm,\n        selectIcon = _this$props5.selectIcon,\n        busySpinner = _this$props5.busySpinner,\n        containerClassName = _this$props5.containerClassName,\n        popupTransition = _this$props5.popupTransition;\n    var _this$state5 = this.state,\n        focused = _this$state5.focused,\n        focusedItem = _this$state5.focusedItem,\n        dataItems = _this$state5.dataItems,\n        messages = _this$state5.messages;\n    var elementProps = Props.pickElementProps(this);\n    var shouldRenderTags = !!dataItems.length,\n        shouldRenderPopup = (0, _widgetHelpers.isFirstFocusedRender)(this),\n        allowCreate = this.allowCreate();\n    var inputOwns = this.listId + \" \" + this.notifyId + \" \" + (shouldRenderTags ? this.tagsId : '') + (allowCreate ? this.createId : '');\n    var disabled = this.props.disabled === true;\n    var readOnly = this.props.readOnly === true;\n    return _react.default.createElement(_Widget.default, _extends({}, elementProps, {\n      open: open,\n      dropUp: dropUp,\n      focused: focused,\n      disabled: disabled,\n      readOnly: readOnly,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.focusManager.handleBlur,\n      onFocus: this.focusManager.handleFocus,\n      className: (0, _classnames.default)(className, 'rw-multiselect')\n    }), this.renderNotificationArea(messages), _react.default.createElement(_WidgetPicker.default, {\n      onClick: this.handleClick,\n      onTouchEnd: this.handleClick,\n      onDoubleClick: this.handleDoubleClick,\n      className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n    }, _react.default.createElement(\"div\", null, shouldRenderTags && this.renderTags(messages), this.renderInput(inputOwns)), _react.default.createElement(_Select.default, {\n      busy: busy,\n      spinner: busySpinner,\n      icon: focused ? selectIcon : null,\n      \"aria-hidden\": \"true\",\n      role: \"presentational\",\n      disabled: disabled || readOnly\n    })), shouldRenderPopup && _react.default.createElement(_Popup.default, {\n      dropUp: dropUp,\n      open: open,\n      transition: popupTransition,\n      onEntering: function onEntering() {\n        return _this2.listRef.forceUpdate();\n      }\n    }, _react.default.createElement(\"div\", null, this.renderList(), allowCreate && _react.default.createElement(_AddToListOption.default, {\n      id: this.createId,\n      searchTerm: searchTerm,\n      onSelect: this.handleCreate,\n      focused: !focusedItem || focusedItem === CREATE_OPTION\n    }, messages.createOption(this.props)))));\n  };\n\n  _proto.change = function change(dataItem, originalEvent, action) {\n    var _this$props6 = this.props,\n        onChange = _this$props6.onChange,\n        searchTerm = _this$props6.searchTerm,\n        lastValue = _this$props6.value;\n    var dataItems = this.state.dataItems;\n\n    switch (action) {\n      case INSERT:\n        dataItems = dataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        dataItems = dataItems.filter(function (d) {\n          return d !== dataItem;\n        });\n        break;\n    }\n\n    (0, _widgetHelpers.notify)(onChange, [dataItems, {\n      action: action,\n      dataItem: dataItem,\n      originalEvent: originalEvent,\n      lastValue: lastValue,\n      searchTerm: searchTerm\n    }]);\n    this.clearSearch(originalEvent);\n  };\n\n  _proto.clearSearch = function clearSearch(originalEvent) {\n    this.search('', originalEvent, 'clear');\n  };\n\n  _proto.search = function search(searchTerm, originalEvent, action) {\n    if (action === void 0) {\n      action = 'input';\n    }\n\n    var _this$props7 = this.props,\n        onSearch = _this$props7.onSearch,\n        lastSearchTerm = _this$props7.searchTerm;\n    if (searchTerm !== lastSearchTerm) (0, _widgetHelpers.notify)(onSearch, [searchTerm, {\n      action: action,\n      lastSearchTerm: lastSearchTerm,\n      originalEvent: originalEvent\n    }]);\n  };\n\n  _proto.focus = function focus() {\n    if (this.inputRef) this.inputRef.focus();\n  };\n\n  _proto.toggle = function toggle() {\n    this.props.open ? this.close() : this.open();\n  };\n\n  _proto.open = function open() {\n    if (!this.props.open) (0, _widgetHelpers.notify)(this.props.onToggle, true);\n  };\n\n  _proto.close = function close() {\n    if (this.props.open) (0, _widgetHelpers.notify)(this.props.onToggle, false);\n  };\n\n  _proto.allowCreate = function allowCreate() {\n    var _this$props8 = this.props,\n        searchTerm = _this$props8.searchTerm,\n        onCreate = _this$props8.onCreate,\n        allowCreate = _this$props8.allowCreate;\n    return !!(onCreate && (allowCreate === true || allowCreate === 'onFilter' && searchTerm) && !this.hasExtactMatch());\n  };\n\n  _proto.hasExtactMatch = function hasExtactMatch() {\n    var _this$props9 = this.props,\n        searchTerm = _this$props9.searchTerm,\n        caseSensitive = _this$props9.caseSensitive;\n    var _this$state6 = this.state,\n        data = _this$state6.data,\n        dataItems = _this$state6.dataItems,\n        accessors = _this$state6.accessors;\n\n    var lower = function lower(text) {\n      return caseSensitive ? text : text.toLowerCase();\n    };\n\n    var eq = function eq(v) {\n      return lower(accessors.text(v)) === lower(searchTerm);\n    }; // if there is an exact match on textFields:\n    // \"john\" => { name: \"john\" }, don't show\n\n\n    return dataItems.some(eq) || data.some(eq);\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    var _this$props10 = this.props,\n        value = _this$props10.value,\n        placeholder = _this$props10.placeholder,\n        showPlaceholderWithValues = _this$props10.showPlaceholderWithValues;\n    return (value && value.length && !showPlaceholderWithValues ? '' : placeholder) || '';\n  };\n\n  return Multiselect;\n}(_react.default.Component), _class3.propTypes = propTypes, _class3.defaultProps = {\n  data: [],\n  allowCreate: 'onFilter',\n  filter: 'startsWith',\n  value: [],\n  searchTerm: '',\n  selectIcon: _Icon.caretDown,\n  listComponent: _List.default,\n  showPlaceholderWithValues: false\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"handleClick\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function (_ref) {\n      var target = _ref.target;\n\n      _this3.focus();\n\n      if ((0, _closest.default)(target, '.rw-select')) _this3.toggle();else _this3.open();\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"handleDoubleClick\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function () {\n      if (!_this4.inputRef) return;\n\n      _this4.focus();\n\n      _this4.inputRef.select();\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"handleSelect\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this5 = this;\n\n    return function (dataItem, originalEvent) {\n      if (dataItem === undefined || dataItem === CREATE_OPTION) {\n        _this5.handleCreate(_this5.props.searchTerm, originalEvent);\n\n        return;\n      }\n\n      (0, _widgetHelpers.notify)(_this5.props.onSelect, [dataItem, {\n        originalEvent: originalEvent\n      }]);\n\n      _this5.change(dataItem, originalEvent, INSERT);\n\n      _this5.focus();\n    };\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"handleCreate\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this6 = this;\n\n    return function (searchTerm, event) {\n      if (searchTerm === void 0) {\n        searchTerm = '';\n      }\n\n      (0, _widgetHelpers.notify)(_this6.props.onCreate, searchTerm);\n\n      _this6.clearSearch(event);\n\n      _this6.focus();\n    };\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyDown\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this7 = this;\n\n    return function (event) {\n      var _this7$props = _this7.props,\n          open = _this7$props.open,\n          searchTerm = _this7$props.searchTerm,\n          onKeyDown = _this7$props.onKeyDown;\n      var key = event.key,\n          keyCode = event.keyCode,\n          altKey = event.altKey,\n          ctrlKey = event.ctrlKey;\n      var _this7$state = _this7.state,\n          focusedTag = _this7$state.focusedTag,\n          focusedItem = _this7$state.focusedItem,\n          list = _this7$state.list,\n          tagList = _this7$state.tagList;\n      var createIsFocused = focusedItem === CREATE_OPTION;\n\n      var canCreate = _this7.allowCreate();\n\n      var focusTag = function focusTag(tag) {\n        return _this7.setState({\n          focusedTag: tag\n        });\n      };\n\n      var focusItem = function focusItem(item) {\n        return _this7.setState({\n          focusedItem: item,\n          focusedTag: null\n        });\n      };\n\n      (0, _widgetHelpers.notify)(onKeyDown, [event]);\n      if (event.defaultPrevented) return;\n\n      if (key === 'ArrowDown') {\n        event.preventDefault();\n        if (!open) return _this7.open();\n        var next = list.next(focusedItem);\n        var creating = createIsFocused || canCreate && focusedItem === next;\n        focusItem(creating ? CREATE_OPTION : next);\n      } else if (key === 'ArrowUp' && (open || altKey)) {\n        event.preventDefault();\n        if (altKey) return _this7.close();\n        focusItem(createIsFocused ? list.last() : list.prev(focusedItem));\n      } else if (key === 'End') {\n        event.preventDefault();\n        if (open) focusItem(list.last());else focusTag(tagList.last());\n      } else if (key === 'Home') {\n        event.preventDefault();\n        if (open) focusItem(list.first());else focusTag(tagList.first());\n      } else if (open && keyCode === ENTER) {\n        // using keyCode to ignore enter for japanese IME\n        event.preventDefault();\n        if (ctrlKey && canCreate) return _this7.handleCreate(searchTerm, event);\n\n        _this7.handleSelect(focusedItem, event);\n      } else if (key === 'Escape') {\n        open ? _this7.close() : tagList && focusTag(null);\n      } else if (!searchTerm && !_this7._deletingText) {\n        if (key === 'ArrowLeft') {\n          focusTag(tagList.prev(focusedTag) || tagList.last());\n        } else if (key === 'ArrowRight' && focusedTag) {\n          var nextTag = tagList.next(focusedTag);\n          focusTag(nextTag === focusedTag ? null : nextTag);\n        } else if (key === 'Delete' && !tagList.isDisabled(focusedTag)) {\n          _this7.handleDelete(focusedTag, event);\n        } else if (key === 'Backspace') {\n          _this7.handleDelete(tagList.last(), event);\n        } else if (key === ' ' && !open) {\n          event.preventDefault();\n\n          _this7.open();\n        }\n      }\n    };\n  }\n})), _class2)) || _class;\n\nvar _default = (0, _uncontrollable.default)(Multiselect, {\n  open: 'onToggle',\n  value: 'onChange',\n  searchTerm: 'onSearch'\n}, ['focus']);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}