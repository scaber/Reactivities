{"ast":null,"code":"'use strict';\n\nvar DataReader = require('./dataReader');\n\nvar utils = require('./utils');\n\nfunction StringReader(data, optimizedBinaryString) {\n  this.data = data;\n\n  if (!optimizedBinaryString) {\n    this.data = utils.string2binary(this.data);\n  }\n\n  this.length = this.data.length;\n  this.index = 0;\n  this.zero = 0;\n}\n\nStringReader.prototype = new DataReader();\n/**\n * @see DataReader.byteAt\n */\n\nStringReader.prototype.byteAt = function (i) {\n  return this.data.charCodeAt(this.zero + i);\n};\n/**\n * @see DataReader.lastIndexOfSignature\n */\n\n\nStringReader.prototype.lastIndexOfSignature = function (sig) {\n  return this.data.lastIndexOf(sig) - this.zero;\n};\n/**\n * @see DataReader.readData\n */\n\n\nStringReader.prototype.readData = function (size) {\n  this.checkOffset(size); // this will work because the constructor applied the \"& 0xff\" mask.\n\n  var result = this.data.slice(this.zero + this.index, this.zero + this.index + size);\n  this.index += size;\n  return result;\n};\n\nmodule.exports = StringReader;","map":null,"metadata":{},"sourceType":"script"}