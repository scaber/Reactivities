{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"dom-helpers/util/inDOM\"));\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _localizers = require(\"./util/localizers\");\n\nvar _class, _class2, _temp;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar getFormat = function getFormat(props) {\n  return _localizers.number.getFormat('default', props.format);\n};\n\nvar isSign = function isSign(val) {\n  return (val || '').trim() === '-';\n};\n\nfunction isPaddedZeros(str, culture) {\n  var localeChar = _localizers.number.decimalChar(null, culture);\n\n  var _str$split = str.split(localeChar),\n      _ = _str$split[0],\n      decimals = _str$split[1];\n\n  return !!(decimals && decimals.match(/0+$/));\n}\n\nfunction isAtDelimiter(num, str, culture) {\n  var localeChar = _localizers.number.decimalChar(null, culture),\n      lastIndex = str.length - 1,\n      char;\n\n  if (str.length < 1) return false;\n  char = str[lastIndex];\n  return !!(char === localeChar && str.indexOf(char) === lastIndex);\n}\n\nvar NumberPickerInput = (0, _reactLifecyclesCompat.polyfill)(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(NumberPickerInput, _React$Component);\n\n  function NumberPickerInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {};\n\n    _this.handleBlur = function (event) {\n      var str = _this.state.stringValue,\n          number = _this.parseNumber(str); // if number is below the min\n      // we need to flush low values and decimal stops, onBlur means i'm done inputing\n\n\n      if (_this.isIntermediateValue(number, str)) {\n        if (isNaN(number)) {\n          number = null;\n        }\n\n        _this.props.onChange(number, event);\n      }\n    };\n\n    _this.handleChange = function (event) {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          onChange = _this$props.onChange;\n\n      var stringValue = event.target.value,\n          numberValue = _this.parseNumber(stringValue);\n\n      var isIntermediate = _this.isIntermediateValue(numberValue, stringValue);\n\n      if (stringValue == null || stringValue.trim() === '') {\n        _this.setStringValue('');\n\n        onChange(null, event);\n        return;\n      } // order here matters a lot\n\n\n      if (isIntermediate) {\n        _this.setStringValue(stringValue);\n      } else if (numberValue !== value) {\n        onChange(numberValue, event);\n      } else if (stringValue != _this.state.stringValue) {\n        _this.setStringValue(stringValue);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = NumberPickerInput.prototype;\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(_ref) {\n    var editing = _ref.editing;\n    return {\n      reselectText: !editing && this.props.editing && this.isSelectingAllText()\n    };\n  };\n\n  NumberPickerInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        culture = nextProps.culture,\n        editing = nextProps.editing;\n\n    var decimal = _localizers.number.decimalChar(null, culture);\n\n    var format = getFormat(nextProps);\n    if (value == null || isNaN(value)) value = '';else value = editing ? ('' + value).replace('.', decimal) : _localizers.number.format(value, format, culture);\n    var stringValue = '' + value;\n    if (prevState.lastValueFromProps !== stringValue) return {\n      stringValue: stringValue,\n      lastValueFromProps: stringValue\n    };\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(_, __, _ref2) {\n    var reselectText = _ref2.reselectText;\n    if (reselectText) (0, _reactDom.findDOMNode)(this).select();\n  }; // this intermediate state is for when one runs into\n  // the decimal or are typing the number\n\n\n  _proto.setStringValue = function setStringValue(stringValue) {\n    this.setState({\n      stringValue: stringValue\n    });\n  };\n\n  _proto.isIntermediateValue = function isIntermediateValue(num, str) {\n    var _this$props2 = this.props,\n        culture = _this$props2.culture,\n        min = _this$props2.min;\n    return !!(num < min || isSign(str) || isAtDelimiter(num, str, culture) || isPaddedZeros(str, culture));\n  };\n\n  _proto.isSelectingAllText = function isSelectingAllText() {\n    var node = _inDOM.default && (0, _reactDom.findDOMNode)(this);\n    return _inDOM.default && (0, _activeElement.default)() === node && node.selectionStart === 0 && node.selectionEnd === node.value.length;\n  };\n\n  _proto.parseNumber = function parseNumber(strVal) {\n    var _this$props3 = this.props,\n        culture = _this$props3.culture,\n        userParse = _this$props3.parse;\n\n    var delimChar = _localizers.number.decimalChar(null, culture);\n\n    if (userParse) return userParse(strVal, culture);\n    strVal = strVal.replace(delimChar, '.');\n    strVal = parseFloat(strVal);\n    return strVal;\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        disabled = _this$props4.disabled,\n        readOnly = _this$props4.readOnly,\n        placeholder = _this$props4.placeholder,\n        min = _this$props4.min,\n        max = _this$props4.max;\n    var value = this.state.stringValue;\n    var props = Props.omitOwn(this);\n    return _react.default.createElement(_Input.default, _extends({}, props, {\n      className: \"rw-widget-input\",\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      \"aria-valuenow\": value,\n      \"aria-valuemin\": isFinite(min) ? min : null,\n      \"aria-valuemax\": isFinite(max) ? max : null,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: placeholder,\n      value: value\n    }));\n  };\n\n  return NumberPickerInput;\n}(_react.default.Component), _class2.defaultProps = {\n  value: null,\n  editing: false\n}, _class2.propTypes = {\n  value: _propTypes.default.number,\n  editing: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  format: CustomPropTypes.numberFormat,\n  parse: _propTypes.default.func,\n  culture: _propTypes.default.string,\n  min: _propTypes.default.number,\n  max: _propTypes.default.number,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled,\n  onChange: _propTypes.default.func.isRequired\n}, _temp)) || _class;\n\nvar _default = NumberPickerInput;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/node_modules/react-widgets/lib/NumberInput.js"],"names":["exports","__esModule","default","_inDOM","_interopRequireDefault","require","_activeElement","_propTypes","_react","_reactDom","_reactLifecyclesCompat","_Input","Props","_interopRequireWildcard","CustomPropTypes","_localizers","_class","_class2","_temp","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","getFormat","props","number","format","isSign","val","trim","isPaddedZeros","str","culture","localeChar","decimalChar","_str$split","split","_","decimals","match","isAtDelimiter","num","lastIndex","char","indexOf","NumberPickerInput","polyfill","_React$Component","_this","_len","args","Array","_key","concat","state","handleBlur","event","stringValue","parseNumber","isIntermediateValue","isNaN","onChange","handleChange","_this$props","value","numberValue","isIntermediate","setStringValue","_proto","getSnapshotBeforeUpdate","_ref","editing","reselectText","isSelectingAllText","getDerivedStateFromProps","nextProps","prevState","decimal","replace","lastValueFromProps","componentDidUpdate","__","_ref2","findDOMNode","select","setState","_this$props2","min","node","selectionStart","selectionEnd","strVal","_this$props3","userParse","parse","delimChar","parseFloat","render","_this$props4","disabled","readOnly","placeholder","max","omitOwn","createElement","className","onBlur","isFinite","Component","defaultProps","propTypes","bool","string","numberFormat","func","isRequired","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"dom-helpers/util/inDOM\"));\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _localizers = require(\"./util/localizers\");\n\nvar _class, _class2, _temp;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar getFormat = function getFormat(props) {\n  return _localizers.number.getFormat('default', props.format);\n};\n\nvar isSign = function isSign(val) {\n  return (val || '').trim() === '-';\n};\n\nfunction isPaddedZeros(str, culture) {\n  var localeChar = _localizers.number.decimalChar(null, culture);\n\n  var _str$split = str.split(localeChar),\n      _ = _str$split[0],\n      decimals = _str$split[1];\n\n  return !!(decimals && decimals.match(/0+$/));\n}\n\nfunction isAtDelimiter(num, str, culture) {\n  var localeChar = _localizers.number.decimalChar(null, culture),\n      lastIndex = str.length - 1,\n      char;\n\n  if (str.length < 1) return false;\n  char = str[lastIndex];\n  return !!(char === localeChar && str.indexOf(char) === lastIndex);\n}\n\nvar NumberPickerInput = (0, _reactLifecyclesCompat.polyfill)(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(NumberPickerInput, _React$Component);\n\n  function NumberPickerInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {};\n\n    _this.handleBlur = function (event) {\n      var str = _this.state.stringValue,\n          number = _this.parseNumber(str); // if number is below the min\n      // we need to flush low values and decimal stops, onBlur means i'm done inputing\n\n\n      if (_this.isIntermediateValue(number, str)) {\n        if (isNaN(number)) {\n          number = null;\n        }\n\n        _this.props.onChange(number, event);\n      }\n    };\n\n    _this.handleChange = function (event) {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          onChange = _this$props.onChange;\n\n      var stringValue = event.target.value,\n          numberValue = _this.parseNumber(stringValue);\n\n      var isIntermediate = _this.isIntermediateValue(numberValue, stringValue);\n\n      if (stringValue == null || stringValue.trim() === '') {\n        _this.setStringValue('');\n\n        onChange(null, event);\n        return;\n      } // order here matters a lot\n\n\n      if (isIntermediate) {\n        _this.setStringValue(stringValue);\n      } else if (numberValue !== value) {\n        onChange(numberValue, event);\n      } else if (stringValue != _this.state.stringValue) {\n        _this.setStringValue(stringValue);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = NumberPickerInput.prototype;\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(_ref) {\n    var editing = _ref.editing;\n    return {\n      reselectText: !editing && this.props.editing && this.isSelectingAllText()\n    };\n  };\n\n  NumberPickerInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        culture = nextProps.culture,\n        editing = nextProps.editing;\n\n    var decimal = _localizers.number.decimalChar(null, culture);\n\n    var format = getFormat(nextProps);\n    if (value == null || isNaN(value)) value = '';else value = editing ? ('' + value).replace('.', decimal) : _localizers.number.format(value, format, culture);\n    var stringValue = '' + value;\n    if (prevState.lastValueFromProps !== stringValue) return {\n      stringValue: stringValue,\n      lastValueFromProps: stringValue\n    };\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(_, __, _ref2) {\n    var reselectText = _ref2.reselectText;\n    if (reselectText) (0, _reactDom.findDOMNode)(this).select();\n  }; // this intermediate state is for when one runs into\n  // the decimal or are typing the number\n\n\n  _proto.setStringValue = function setStringValue(stringValue) {\n    this.setState({\n      stringValue: stringValue\n    });\n  };\n\n  _proto.isIntermediateValue = function isIntermediateValue(num, str) {\n    var _this$props2 = this.props,\n        culture = _this$props2.culture,\n        min = _this$props2.min;\n    return !!(num < min || isSign(str) || isAtDelimiter(num, str, culture) || isPaddedZeros(str, culture));\n  };\n\n  _proto.isSelectingAllText = function isSelectingAllText() {\n    var node = _inDOM.default && (0, _reactDom.findDOMNode)(this);\n    return _inDOM.default && (0, _activeElement.default)() === node && node.selectionStart === 0 && node.selectionEnd === node.value.length;\n  };\n\n  _proto.parseNumber = function parseNumber(strVal) {\n    var _this$props3 = this.props,\n        culture = _this$props3.culture,\n        userParse = _this$props3.parse;\n\n    var delimChar = _localizers.number.decimalChar(null, culture);\n\n    if (userParse) return userParse(strVal, culture);\n    strVal = strVal.replace(delimChar, '.');\n    strVal = parseFloat(strVal);\n    return strVal;\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        disabled = _this$props4.disabled,\n        readOnly = _this$props4.readOnly,\n        placeholder = _this$props4.placeholder,\n        min = _this$props4.min,\n        max = _this$props4.max;\n    var value = this.state.stringValue;\n    var props = Props.omitOwn(this);\n    return _react.default.createElement(_Input.default, _extends({}, props, {\n      className: \"rw-widget-input\",\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      \"aria-valuenow\": value,\n      \"aria-valuemin\": isFinite(min) ? min : null,\n      \"aria-valuemax\": isFinite(max) ? max : null,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: placeholder,\n      value: value\n    }));\n  };\n\n  return NumberPickerInput;\n}(_react.default.Component), _class2.defaultProps = {\n  value: null,\n  editing: false\n}, _class2.propTypes = {\n  value: _propTypes.default.number,\n  editing: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  format: CustomPropTypes.numberFormat,\n  parse: _propTypes.default.func,\n  culture: _propTypes.default.string,\n  min: _propTypes.default.number,\n  max: _propTypes.default.number,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled,\n  onChange: _propTypes.default.func.isRequired\n}, _temp)) || _class;\n\nvar _default = NumberPickerInput;\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}