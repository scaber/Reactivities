{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _dates = _interopRequireDefault(require(\"./util/dates\"));\n\nvar _reduceToListState = _interopRequireDefault(require(\"./util/reduceToListState\"));\n\nvar _localizers = require(\"./util/localizers\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _class, _class2, _temp;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar format = function format(props) {\n  return _localizers.date.getFormat('time', props.format);\n};\n\nvar accessors = {\n  text: function text(item) {\n    return item.label;\n  },\n  value: function value(item) {\n    return item.date;\n  }\n};\n\nvar find = function find(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i])) return arr[i];\n  }\n\n  return null;\n};\n\nfunction getBounds(_ref) {\n  var min = _ref.min,\n      max = _ref.max,\n      currentDate = _ref.currentDate,\n      value = _ref.value,\n      preserveDate = _ref.preserveDate; //compare just the time regradless of whether they fall on the same day\n\n  if (!preserveDate) {\n    var _start = _dates.default.startOf(_dates.default.merge(new Date(), min, currentDate), 'minutes');\n\n    var _end = _dates.default.startOf(_dates.default.merge(new Date(), max, currentDate), 'minutes');\n\n    if (_dates.default.lte(_end, _start) && _dates.default.gt(max, min, 'day')) _end = _dates.default.tomorrow();\n    return {\n      min: _start,\n      max: _end\n    };\n  }\n\n  var start = _dates.default.today();\n\n  var end = _dates.default.tomorrow();\n\n  value = value || currentDate || start; //date parts are equal\n\n  return {\n    min: _dates.default.eq(value, min, 'day') ? _dates.default.merge(start, min, currentDate) : start,\n    max: _dates.default.eq(value, max, 'day') ? _dates.default.merge(start, max, currentDate) : end\n  };\n}\n\nfunction getDates(_ref2) {\n  var step = _ref2.step,\n      culture = _ref2.culture,\n      props = _objectWithoutProperties(_ref2, [\"step\", \"culture\"]);\n\n  var times = [];\n\n  var _getBounds = getBounds(props),\n      min = _getBounds.min,\n      max = _getBounds.max;\n\n  var startDay = _dates.default.date(min);\n\n  while (_dates.default.date(min) === startDay && _dates.default.lte(min, max)) {\n    times.push({\n      date: min,\n      label: _localizers.date.format(min, format(props), culture)\n    });\n    min = _dates.default.add(min, step || 30, 'minutes');\n  }\n\n  return times;\n}\n\nvar TimeList = (0, _reactLifecyclesCompat.polyfill)(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TimeList, _React$Component);\n\n  function TimeList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {};\n\n    _this.handleKeyDown = function (e) {\n      var key = e.key;\n      var _this$state = _this.state,\n          focusedItem = _this$state.focusedItem,\n          list = _this$state.list;\n\n      if (key === 'End') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.last()\n        });\n      } else if (key === 'Home') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.first()\n        });\n      } else if (key === 'Enter') {\n        _this.props.onSelect(focusedItem);\n      } else if (key === 'ArrowDown') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.next(focusedItem)\n        });\n      } else if (key === 'ArrowUp') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.prev(focusedItem)\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  TimeList.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        currentDate = nextProps.currentDate,\n        step = nextProps.step;\n    var data = getDates(nextProps);\n    var currentValue = value || currentDate;\n    var valueChanged = !prevState.lastValue || !_dates.default.eq(currentValue, prevState.lastValue, 'minutes');\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    var selectedItem = find(data, function (t) {\n      return _dates.default.eq(t.date, currentValue, 'minutes');\n    });\n    var closestDate = find(data, function (t) {\n      return Math.abs(_dates.default.diff(t.date, currentValue, 'minutes')) < step;\n    });\n    return {\n      data: data,\n      list: list,\n      lastValue: currentValue,\n      selectedItem: list.nextEnabled(selectedItem),\n      focusedItem: valueChanged || !prevState.focusedItem ? list.nextEnabled(selectedItem || closestDate || data[0]) : find(data, function (t) {\n        return _dates.default.eq(t.date, prevState.focusedItem.date, 'minutes');\n      })\n    };\n  };\n\n  var _proto = TimeList.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unmounted = true;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        listProps = _this$props.listProps,\n        props = _objectWithoutProperties(_this$props, [\"listProps\"]);\n\n    var _this$state2 = this.state,\n        data = _this$state2.data,\n        list = _this$state2.list,\n        focusedItem = _this$state2.focusedItem,\n        selectedItem = _this$state2.selectedItem;\n    delete props.currentDate;\n    delete props.min;\n    delete props.max;\n    delete props.step;\n    delete props.format;\n    delete props.culture;\n    delete props.preserveDate;\n    delete props.value;\n    return _react.default.createElement(_List.default, _extends({}, props, listProps, {\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      selectedItem: selectedItem,\n      focusedItem: focusedItem\n    }));\n  };\n\n  return TimeList;\n}(_react.default.Component), _class2.defaultProps = {\n  step: 30,\n  currentDate: new Date(),\n  min: new Date(1900, 0, 1),\n  max: new Date(2099, 11, 31),\n  preserveDate: true\n}, _class2.propTypes = {\n  value: _propTypes.default.instanceOf(Date),\n  step: _propTypes.default.number,\n  min: _propTypes.default.instanceOf(Date),\n  max: _propTypes.default.instanceOf(Date),\n  currentDate: _propTypes.default.instanceOf(Date),\n  itemComponent: CustomPropTypes.elementType,\n  listProps: _propTypes.default.object,\n  format: CustomPropTypes.dateFormat,\n  onSelect: _propTypes.default.func,\n  preserveDate: _propTypes.default.bool,\n  culture: _propTypes.default.string\n}, _temp)) || _class;\n\nvar _default = TimeList;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/node_modules/react-widgets/lib/TimeList.js"],"names":["exports","__esModule","default","_react","_interopRequireDefault","require","_reactLifecyclesCompat","_propTypes","_List","_dates","_reduceToListState","_localizers","CustomPropTypes","_interopRequireWildcard","_class","_class2","_temp","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","format","props","date","getFormat","accessors","text","item","label","value","find","arr","fn","getBounds","_ref","min","max","currentDate","preserveDate","_start","startOf","merge","Date","_end","lte","gt","tomorrow","start","today","end","eq","getDates","_ref2","step","culture","times","_getBounds","startDay","push","add","TimeList","polyfill","_React$Component","_this","_len","args","Array","_key","concat","state","handleKeyDown","e","_this$state","focusedItem","list","preventDefault","setState","last","first","onSelect","next","prev","getDerivedStateFromProps","nextProps","prevState","data","currentValue","valueChanged","lastValue","selectedItem","t","closestDate","Math","abs","diff","nextEnabled","_proto","componentWillUnmount","unmounted","render","_this$props","listProps","_this$state2","createElement","dataState","isDisabled","textAccessor","valueAccessor","Component","defaultProps","propTypes","instanceOf","number","itemComponent","elementType","object","dateFormat","func","bool","string","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _dates = _interopRequireDefault(require(\"./util/dates\"));\n\nvar _reduceToListState = _interopRequireDefault(require(\"./util/reduceToListState\"));\n\nvar _localizers = require(\"./util/localizers\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _class, _class2, _temp;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nvar format = function format(props) {\n  return _localizers.date.getFormat('time', props.format);\n};\n\nvar accessors = {\n  text: function text(item) {\n    return item.label;\n  },\n  value: function value(item) {\n    return item.date;\n  }\n};\n\nvar find = function find(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i])) return arr[i];\n  }\n\n  return null;\n};\n\nfunction getBounds(_ref) {\n  var min = _ref.min,\n      max = _ref.max,\n      currentDate = _ref.currentDate,\n      value = _ref.value,\n      preserveDate = _ref.preserveDate;\n\n  //compare just the time regradless of whether they fall on the same day\n  if (!preserveDate) {\n    var _start = _dates.default.startOf(_dates.default.merge(new Date(), min, currentDate), 'minutes');\n\n    var _end = _dates.default.startOf(_dates.default.merge(new Date(), max, currentDate), 'minutes');\n\n    if (_dates.default.lte(_end, _start) && _dates.default.gt(max, min, 'day')) _end = _dates.default.tomorrow();\n    return {\n      min: _start,\n      max: _end\n    };\n  }\n\n  var start = _dates.default.today();\n\n  var end = _dates.default.tomorrow();\n\n  value = value || currentDate || start; //date parts are equal\n\n  return {\n    min: _dates.default.eq(value, min, 'day') ? _dates.default.merge(start, min, currentDate) : start,\n    max: _dates.default.eq(value, max, 'day') ? _dates.default.merge(start, max, currentDate) : end\n  };\n}\n\nfunction getDates(_ref2) {\n  var step = _ref2.step,\n      culture = _ref2.culture,\n      props = _objectWithoutProperties(_ref2, [\"step\", \"culture\"]);\n\n  var times = [];\n\n  var _getBounds = getBounds(props),\n      min = _getBounds.min,\n      max = _getBounds.max;\n\n  var startDay = _dates.default.date(min);\n\n  while (_dates.default.date(min) === startDay && _dates.default.lte(min, max)) {\n    times.push({\n      date: min,\n      label: _localizers.date.format(min, format(props), culture)\n    });\n    min = _dates.default.add(min, step || 30, 'minutes');\n  }\n\n  return times;\n}\n\nvar TimeList = (0, _reactLifecyclesCompat.polyfill)(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TimeList, _React$Component);\n\n  function TimeList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {};\n\n    _this.handleKeyDown = function (e) {\n      var key = e.key;\n      var _this$state = _this.state,\n          focusedItem = _this$state.focusedItem,\n          list = _this$state.list;\n\n      if (key === 'End') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.last()\n        });\n      } else if (key === 'Home') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.first()\n        });\n      } else if (key === 'Enter') {\n        _this.props.onSelect(focusedItem);\n      } else if (key === 'ArrowDown') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.next(focusedItem)\n        });\n      } else if (key === 'ArrowUp') {\n        e.preventDefault();\n\n        _this.setState({\n          focusedItem: list.prev(focusedItem)\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  TimeList.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        currentDate = nextProps.currentDate,\n        step = nextProps.step;\n    var data = getDates(nextProps);\n    var currentValue = value || currentDate;\n    var valueChanged = !prevState.lastValue || !_dates.default.eq(currentValue, prevState.lastValue, 'minutes');\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    var selectedItem = find(data, function (t) {\n      return _dates.default.eq(t.date, currentValue, 'minutes');\n    });\n    var closestDate = find(data, function (t) {\n      return Math.abs(_dates.default.diff(t.date, currentValue, 'minutes')) < step;\n    });\n    return {\n      data: data,\n      list: list,\n      lastValue: currentValue,\n      selectedItem: list.nextEnabled(selectedItem),\n      focusedItem: valueChanged || !prevState.focusedItem ? list.nextEnabled(selectedItem || closestDate || data[0]) : find(data, function (t) {\n        return _dates.default.eq(t.date, prevState.focusedItem.date, 'minutes');\n      })\n    };\n  };\n\n  var _proto = TimeList.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unmounted = true;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        listProps = _this$props.listProps,\n        props = _objectWithoutProperties(_this$props, [\"listProps\"]);\n\n    var _this$state2 = this.state,\n        data = _this$state2.data,\n        list = _this$state2.list,\n        focusedItem = _this$state2.focusedItem,\n        selectedItem = _this$state2.selectedItem;\n    delete props.currentDate;\n    delete props.min;\n    delete props.max;\n    delete props.step;\n    delete props.format;\n    delete props.culture;\n    delete props.preserveDate;\n    delete props.value;\n    return _react.default.createElement(_List.default, _extends({}, props, listProps, {\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      selectedItem: selectedItem,\n      focusedItem: focusedItem\n    }));\n  };\n\n  return TimeList;\n}(_react.default.Component), _class2.defaultProps = {\n  step: 30,\n  currentDate: new Date(),\n  min: new Date(1900, 0, 1),\n  max: new Date(2099, 11, 31),\n  preserveDate: true\n}, _class2.propTypes = {\n  value: _propTypes.default.instanceOf(Date),\n  step: _propTypes.default.number,\n  min: _propTypes.default.instanceOf(Date),\n  max: _propTypes.default.instanceOf(Date),\n  currentDate: _propTypes.default.instanceOf(Date),\n  itemComponent: CustomPropTypes.elementType,\n  listProps: _propTypes.default.object,\n  format: CustomPropTypes.dateFormat,\n  onSelect: _propTypes.default.func,\n  preserveDate: _propTypes.default.bool,\n  culture: _propTypes.default.string\n}, _temp)) || _class;\n\nvar _default = TimeList;\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}