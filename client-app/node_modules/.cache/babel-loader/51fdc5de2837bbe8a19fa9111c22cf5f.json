{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _reactComponentManagers = require(\"react-component-managers\");\n\nvar _uncontrollable = _interopRequireDefault(require(\"uncontrollable\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _SelectListItem = _interopRequireDefault(require(\"./SelectListItem\"));\n\nvar _messages = require(\"./messages\");\n\nvar _ = require(\"./util/_\");\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _reduceToListState = _interopRequireDefault(require(\"./util/reduceToListState\"));\n\nvar _getAccessors = _interopRequireDefault(require(\"./util/getAccessors\"));\n\nvar _focusManager = _interopRequireDefault(require(\"./util/focusManager\"));\n\nvar _scrollManager = _interopRequireDefault(require(\"./util/scrollManager\"));\n\nvar _interaction = require(\"./util/interaction\");\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _class, _class2, _descriptor, _descriptor2, _class3, _temp;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nvar BusyMask = function BusyMask() {\n  return _react.default.createElement(\"span\", {\n    className: \"rw-loading-mask\"\n  });\n};\n\nfunction getFirstValue(data, values) {\n  if (!values.length) return null;\n\n  for (var idx = 0; idx < data.length; idx++) {\n    if (~values.indexOf(data[idx])) return data[idx];\n  }\n\n  return null;\n}\n/**\n * ---\n * shortcuts:\n *   - { key: down arrow, label: move focus, or select previous option }\n *   - { key: up arrow, label: move focus, or select next option }\n *   - { key: home, label: move focus to first option }\n *   - { key: end, label: move focus to last option }\n *   - { key: spacebar, label: toggle focused option }\n *   - { key: ctrl + a, label: ctoggle select all/select none }\n *   - { key: any key, label: search list for option starting with key }\n * ---\n *\n * A group of radio buttons or checkboxes bound to a dataset.\n *\n * @public\n */\n\n\nvar SelectList = (0, _reactLifecyclesCompat.polyfill)(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SelectList, _React$Component);\n\n  function SelectList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleMouseDown = function () {\n      _this._clicking = true;\n    };\n\n    _this.handleFocusChanged = function (focused) {\n      var _this$props = _this.props,\n          data = _this$props.data,\n          disabled = _this$props.disabled;\n      var _this$state = _this.state,\n          dataItems = _this$state.dataItems,\n          accessors = _this$state.accessors,\n          list = _this$state.list; // the rigamarole here is to avoid flicker went clicking an item and\n      // gaining focus at the same time.\n\n      if (focused !== _this.state.focused) {\n        if (!focused) _this.setState({\n          focusedItem: null\n        });else if (focused && !_this._clicking) {\n          var allowed = Array.isArray(disabled) ? dataItems.filter(function (v) {\n            return !accessors.includes(disabled, v);\n          }) : dataItems;\n\n          _this.setState({\n            focusedItem: getFirstValue(data, allowed) || list.nextEnabled(data[0])\n          });\n        }\n        _this._clicking = false;\n      }\n    };\n\n    _initializerDefineProperty(_this, \"handleKeyDown\", _descriptor, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleKeyPress\", _descriptor2, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.handleChange = function (item, checked, originalEvent) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          onChange = _this$props2.onChange;\n      var lastValue = _this.state.dataItems;\n\n      _this.setState({\n        focusedItem: item\n      });\n\n      if (!multiple) return (0, _widgetHelpers.notify)(onChange, [checked ? item : null, {\n        originalEvent: originalEvent,\n        lastValue: lastValue,\n        checked: checked\n      }]);\n      var nextValue = checked ? lastValue.concat(item) : lastValue.filter(function (v) {\n        return v !== item;\n      });\n      (0, _widgetHelpers.notify)(onChange, [nextValue || [], {\n        checked: checked,\n        lastValue: lastValue,\n        originalEvent: originalEvent,\n        dataItem: item\n      }]);\n    };\n\n    _this.attachListRef = function (ref) {\n      return _this.listRef = ref;\n    };\n\n    _this.renderListItem = function (itemProps) {\n      var _this$props3 = _this.props,\n          name = _this$props3.name,\n          multiple = _this$props3.multiple,\n          disabled = _this$props3.disabled,\n          readOnly = _this$props3.readOnly;\n      var _this$state2 = _this.state,\n          dataItems = _this$state2.dataItems,\n          accessors = _this$state2.accessors;\n      return _react.default.createElement(_SelectListItem.default, _extends({}, itemProps, {\n        name: name || _this.itemName,\n        type: multiple ? 'checkbox' : 'radio',\n        readOnly: disabled === true || readOnly,\n        onChange: _this.handleChange,\n        onMouseDown: _this.handleMouseDown,\n        checked: accessors.includes(dataItems, itemProps.dataItem)\n      }));\n    };\n\n    (0, _reactComponentManagers.autoFocus)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.widgetId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_widget');\n    _this.listId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox');\n    _this.activeId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox_active_option');\n    _this.itemName = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_name');\n    _this.timeouts = (0, _reactComponentManagers.timeoutManager)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleScroll = (0, _scrollManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), false);\n    _this.focusManager = (0, _focusManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      didHandle: _this.handleFocusChanged\n    });\n    _this.state = {};\n    return _this;\n  }\n\n  SelectList.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        data = nextProps.data,\n        messages = nextProps.messages;\n    var accessors = (0, _getAccessors.default)(nextProps);\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    return {\n      list: list,\n      accessors: accessors,\n      messages: (0, _messages.getMessages)(messages),\n      dataItems: (0, _.makeArray)(value).map(function (item) {\n        return accessors.findOrSelf(data, item);\n      })\n    };\n  };\n\n  var _proto = SelectList.prototype;\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        className = _this$props4.className,\n        tabIndex = _this$props4.tabIndex,\n        busy = _this$props4.busy,\n        data = _this$props4.data,\n        busySpinner = _this$props4.busySpinner,\n        itemComponent = _this$props4.itemComponent,\n        groupComponent = _this$props4.groupComponent,\n        listProps = _this$props4.listProps;\n    var elementProps = Props.pickElementProps(this);\n    var _this$state3 = this.state,\n        focusedItem = _this$state3.focusedItem,\n        focused = _this$state3.focused,\n        accessors = _this$state3.accessors,\n        list = _this$state3.list,\n        messages = _this$state3.messages;\n    var List = this.props.listComponent;\n    var disabled = this.props.disabled === true,\n        readOnly = this.props.readOnly === true;\n    focusedItem = focused && !disabled && !readOnly && focusedItem;\n    return _react.default.createElement(_Widget.default, _extends({}, elementProps, {\n      id: this.widgetId,\n      onBlur: this.focusManager.handleBlur,\n      onFocus: this.focusManager.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onKeyPress: this.handleKeyPress,\n      focused: focused,\n      disabled: disabled,\n      readOnly: readOnly,\n      role: \"radiogroup\",\n      \"aria-busy\": !!busy,\n      \"aria-activedescendant\": this.activeId,\n      className: (0, _classnames.default)(className, 'rw-select-list', 'rw-widget-input', 'rw-widget-container')\n    }), _react.default.createElement(List, _extends({}, listProps, {\n      role: \"radiogroup\",\n      tabIndex: tabIndex || '0',\n      id: this.listId,\n      activeId: this.activeId,\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      itemComponent: itemComponent,\n      groupComponent: groupComponent,\n      optionComponent: this.renderListItem,\n      focusedItem: focusedItem,\n      onMove: this.handleScroll,\n      messages: {\n        emptyList: messages.emptyList\n      },\n      ref: this.attachListRef\n    })), busy && busySpinner);\n  };\n\n  _proto.focus = function focus() {\n    (0, _reactDom.findDOMNode)(this.refs.list).focus();\n  };\n\n  _proto.selectAll = function selectAll() {\n    var accessors = this.accessors;\n    var _this$props5 = this.props,\n        data = _this$props5.data,\n        disabled = _this$props5.disabled,\n        onChange = _this$props5.onChange;\n    var values = this.state.dataItems;\n    disabled = Array.isArray(disabled) ? disabled : [];\n    var disabledValues;\n    var enabledData = data;\n\n    if (disabled.length) {\n      disabledValues = values.filter(function (v) {\n        return accessors.includes(disabled, v);\n      });\n      enabledData = data.filter(function (v) {\n        return !accessors.includes(disabled, v);\n      });\n    }\n\n    var nextValues = values.length >= enabledData.length ? values.filter(function (v) {\n      return accessors.includes(disabled, v);\n    }) : enabledData.concat(disabledValues);\n    (0, _widgetHelpers.notify)(onChange, [nextValues]);\n  };\n\n  _proto.search = function search(character, originalEvent) {\n    var _this2 = this;\n\n    var _searchTerm = this._searchTerm,\n        list = this.list;\n    var word = ((_searchTerm || '') + character).toLowerCase();\n    var multiple = this.props.multiple;\n    if (!multiple) originalEvent.persist();\n    if (!character) return;\n    this._searchTerm = word;\n    this.timeouts.set('search', function () {\n      var focusedItem = list.next(_this2.state.focusedItem, word);\n      _this2._searchTerm = '';\n\n      if (focusedItem) {\n        !multiple ? _this2.handleChange(focusedItem, true, originalEvent) : _this2.setState({\n          focusedItem: focusedItem\n        });\n      }\n    }, this.props.delay);\n  };\n\n  return SelectList;\n}(_react.default.Component), _class3.propTypes = {\n  data: _propTypes.default.array,\n  value: _propTypes.default.oneOfType([_propTypes.default.any, _propTypes.default.array]),\n  onChange: _propTypes.default.func,\n\n  /**\n   * A handler called when focus shifts on the SelectList. Internally this is used to ensure the focused item is in view.\n   * If you want to define your own \"scrollTo\" behavior or just disable the default one specify an `onMove` handler.\n   * The handler is called with the relevant DOM nodes needed to implement scroll behavior: the list element,\n   * the element that is currently focused, and a focused value.\n   *\n   * @type {function(list: HTMLELement, focusedNode: HTMLElement, focusedItem: any)}\n   */\n  onMove: _propTypes.default.func,\n\n  /**\n   * Whether or not the SelectList allows multiple selection or not. when `false` the SelectList will\n   * render as a list of radio buttons, and checkboxes when `true`.\n   */\n  multiple: _propTypes.default.bool,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  itemComponent: CustomPropTypes.elementType,\n  busySpinner: _propTypes.default.node,\n  listComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  groupBy: CustomPropTypes.accessor,\n  valueField: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  busy: _propTypes.default.bool,\n  delay: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  listProps: _propTypes.default.object,\n  tabIndex: _propTypes.default.any,\n\n  /**\n   * The HTML `name` attribute used to group checkboxes and radio buttons\n   * together.\n   */\n  name: _propTypes.default.string,\n  isRtl: _propTypes.default.bool,\n  messages: _propTypes.default.shape({\n    emptyList: CustomPropTypes.message\n  })\n}, _class3.defaultProps = {\n  delay: 250,\n  value: [],\n  data: [],\n  busySpinner: _react.default.createElement(BusyMask, null),\n  listComponent: _List.default\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyDown\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function (event) {\n      var multiple = _this3.props.multiple;\n      var _this3$state = _this3.state,\n          dataItems = _this3$state.dataItems,\n          focusedItem = _this3$state.focusedItem,\n          list = _this3$state.list,\n          accessors = _this3$state.accessors;\n      var keyCode = event.keyCode,\n          key = event.key,\n          ctrlKey = event.ctrlKey;\n\n      var change = function change(item) {\n        if (!item) return;\n        var checked = multiple ? !accessors.includes(dataItems, item) // toggle value\n        : true;\n\n        _this3.handleChange(item, checked, event);\n      };\n\n      (0, _widgetHelpers.notify)(_this3.props.onKeyDown, [event]);\n      if (event.defaultPrevented) return;\n\n      if (key === 'End') {\n        event.preventDefault();\n        focusedItem = list.last();\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'Home') {\n        event.preventDefault();\n        focusedItem = list.first();\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'Enter' || key === ' ') {\n        event.preventDefault();\n        change(focusedItem);\n      } else if (key === 'ArrowDown' || key === 'ArrowRight') {\n        event.preventDefault();\n        focusedItem = list.next(focusedItem);\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'ArrowUp' || key === 'ArrowLeft') {\n        event.preventDefault();\n        focusedItem = list.prev(focusedItem);\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (multiple && keyCode === 65 && ctrlKey) {\n        event.preventDefault();\n\n        _this3.selectAll();\n      }\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyPress\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function (event) {\n      (0, _widgetHelpers.notify)(_this4.props.onKeyPress, [event]);\n      if (event.defaultPrevented) return;\n\n      _this4.search(String.fromCharCode(event.which), event);\n    };\n  }\n})), _class2)) || _class;\n\nvar _default = (0, _uncontrollable.default)(SelectList, {\n  value: 'onChange'\n}, ['selectAll', 'focus']);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Projects/Reactivities/client-app/node_modules/react-widgets/lib/SelectList.js"],"names":["exports","__esModule","default","_react","_interopRequireDefault","require","_reactDom","_reactLifecyclesCompat","_propTypes","_classnames","_reactComponentManagers","_uncontrollable","_List","_Widget","_SelectListItem","_messages","_","Props","_interopRequireWildcard","CustomPropTypes","_reduceToListState","_getAccessors","_focusManager","_scrollManager","_interaction","_widgetHelpers","_class","_class2","_descriptor","_descriptor2","_class3","_temp","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_initializerDefineProperty","property","descriptor","context","enumerable","configurable","writable","value","initializer","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","_applyDecoratedDescriptor","decorators","forEach","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","BusyMask","createElement","className","getFirstValue","data","values","idx","indexOf","SelectList","polyfill","_React$Component","_this","_len","args","Array","_key","concat","handleMouseDown","_clicking","handleFocusChanged","focused","_this$props","props","disabled","_this$state","state","dataItems","accessors","list","setState","focusedItem","allowed","isArray","filter","v","includes","nextEnabled","handleChange","item","checked","originalEvent","_this$props2","multiple","onChange","lastValue","notify","nextValue","dataItem","attachListRef","ref","listRef","renderListItem","itemProps","_this$props3","name","readOnly","_this$state2","itemName","type","onMouseDown","autoFocus","widgetId","instanceId","listId","activeId","timeouts","timeoutManager","handleScroll","focusManager","didHandle","getDerivedStateFromProps","nextProps","prevState","messages","getMessages","makeArray","map","findOrSelf","_proto","render","_this$props4","tabIndex","busy","busySpinner","itemComponent","groupComponent","listProps","elementProps","pickElementProps","_this$state3","List","listComponent","id","onBlur","handleBlur","onFocus","handleFocus","onKeyDown","handleKeyDown","onKeyPress","handleKeyPress","role","dataState","isDisabled","textAccessor","text","valueAccessor","optionComponent","onMove","emptyList","focus","findDOMNode","refs","selectAll","_this$props5","disabledValues","enabledData","nextValues","search","character","_this2","_searchTerm","word","toLowerCase","persist","next","delay","Component","propTypes","array","oneOfType","any","func","bool","elementType","node","groupBy","accessor","valueField","textField","number","acceptsArray","object","string","isRtl","shape","message","defaultProps","widgetEditable","_this3","event","_this3$state","keyCode","ctrlKey","change","defaultPrevented","preventDefault","last","first","prev","_this4","String","fromCharCode","which","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _reactComponentManagers = require(\"react-component-managers\");\n\nvar _uncontrollable = _interopRequireDefault(require(\"uncontrollable\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _SelectListItem = _interopRequireDefault(require(\"./SelectListItem\"));\n\nvar _messages = require(\"./messages\");\n\nvar _ = require(\"./util/_\");\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar _reduceToListState = _interopRequireDefault(require(\"./util/reduceToListState\"));\n\nvar _getAccessors = _interopRequireDefault(require(\"./util/getAccessors\"));\n\nvar _focusManager = _interopRequireDefault(require(\"./util/focusManager\"));\n\nvar _scrollManager = _interopRequireDefault(require(\"./util/scrollManager\"));\n\nvar _interaction = require(\"./util/interaction\");\n\nvar _widgetHelpers = require(\"./util/widgetHelpers\");\n\nvar _class, _class2, _descriptor, _descriptor2, _class3, _temp;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nvar BusyMask = function BusyMask() {\n  return _react.default.createElement(\"span\", {\n    className: \"rw-loading-mask\"\n  });\n};\n\nfunction getFirstValue(data, values) {\n  if (!values.length) return null;\n\n  for (var idx = 0; idx < data.length; idx++) {\n    if (~values.indexOf(data[idx])) return data[idx];\n  }\n\n  return null;\n}\n/**\n * ---\n * shortcuts:\n *   - { key: down arrow, label: move focus, or select previous option }\n *   - { key: up arrow, label: move focus, or select next option }\n *   - { key: home, label: move focus to first option }\n *   - { key: end, label: move focus to last option }\n *   - { key: spacebar, label: toggle focused option }\n *   - { key: ctrl + a, label: ctoggle select all/select none }\n *   - { key: any key, label: search list for option starting with key }\n * ---\n *\n * A group of radio buttons or checkboxes bound to a dataset.\n *\n * @public\n */\n\n\nvar SelectList = (0, _reactLifecyclesCompat.polyfill)(_class = (_class2 = (_temp = _class3 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(SelectList, _React$Component);\n\n  function SelectList() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleMouseDown = function () {\n      _this._clicking = true;\n    };\n\n    _this.handleFocusChanged = function (focused) {\n      var _this$props = _this.props,\n          data = _this$props.data,\n          disabled = _this$props.disabled;\n      var _this$state = _this.state,\n          dataItems = _this$state.dataItems,\n          accessors = _this$state.accessors,\n          list = _this$state.list; // the rigamarole here is to avoid flicker went clicking an item and\n      // gaining focus at the same time.\n\n      if (focused !== _this.state.focused) {\n        if (!focused) _this.setState({\n          focusedItem: null\n        });else if (focused && !_this._clicking) {\n          var allowed = Array.isArray(disabled) ? dataItems.filter(function (v) {\n            return !accessors.includes(disabled, v);\n          }) : dataItems;\n\n          _this.setState({\n            focusedItem: getFirstValue(data, allowed) || list.nextEnabled(data[0])\n          });\n        }\n        _this._clicking = false;\n      }\n    };\n\n    _initializerDefineProperty(_this, \"handleKeyDown\", _descriptor, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _initializerDefineProperty(_this, \"handleKeyPress\", _descriptor2, _assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.handleChange = function (item, checked, originalEvent) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          onChange = _this$props2.onChange;\n      var lastValue = _this.state.dataItems;\n\n      _this.setState({\n        focusedItem: item\n      });\n\n      if (!multiple) return (0, _widgetHelpers.notify)(onChange, [checked ? item : null, {\n        originalEvent: originalEvent,\n        lastValue: lastValue,\n        checked: checked\n      }]);\n      var nextValue = checked ? lastValue.concat(item) : lastValue.filter(function (v) {\n        return v !== item;\n      });\n      (0, _widgetHelpers.notify)(onChange, [nextValue || [], {\n        checked: checked,\n        lastValue: lastValue,\n        originalEvent: originalEvent,\n        dataItem: item\n      }]);\n    };\n\n    _this.attachListRef = function (ref) {\n      return _this.listRef = ref;\n    };\n\n    _this.renderListItem = function (itemProps) {\n      var _this$props3 = _this.props,\n          name = _this$props3.name,\n          multiple = _this$props3.multiple,\n          disabled = _this$props3.disabled,\n          readOnly = _this$props3.readOnly;\n      var _this$state2 = _this.state,\n          dataItems = _this$state2.dataItems,\n          accessors = _this$state2.accessors;\n      return _react.default.createElement(_SelectListItem.default, _extends({}, itemProps, {\n        name: name || _this.itemName,\n        type: multiple ? 'checkbox' : 'radio',\n        readOnly: disabled === true || readOnly,\n        onChange: _this.handleChange,\n        onMouseDown: _this.handleMouseDown,\n        checked: accessors.includes(dataItems, itemProps.dataItem)\n      }));\n    };\n\n    (0, _reactComponentManagers.autoFocus)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.widgetId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_widget');\n    _this.listId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox');\n    _this.activeId = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_listbox_active_option');\n    _this.itemName = (0, _widgetHelpers.instanceId)(_assertThisInitialized(_assertThisInitialized(_this)), '_name');\n    _this.timeouts = (0, _reactComponentManagers.timeoutManager)(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleScroll = (0, _scrollManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), false);\n    _this.focusManager = (0, _focusManager.default)(_assertThisInitialized(_assertThisInitialized(_this)), {\n      didHandle: _this.handleFocusChanged\n    });\n    _this.state = {};\n    return _this;\n  }\n\n  SelectList.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        data = nextProps.data,\n        messages = nextProps.messages;\n    var accessors = (0, _getAccessors.default)(nextProps);\n    var list = (0, _reduceToListState.default)(data, prevState.list, {\n      nextProps: nextProps\n    });\n    return {\n      list: list,\n      accessors: accessors,\n      messages: (0, _messages.getMessages)(messages),\n      dataItems: (0, _.makeArray)(value).map(function (item) {\n        return accessors.findOrSelf(data, item);\n      })\n    };\n  };\n\n  var _proto = SelectList.prototype;\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        className = _this$props4.className,\n        tabIndex = _this$props4.tabIndex,\n        busy = _this$props4.busy,\n        data = _this$props4.data,\n        busySpinner = _this$props4.busySpinner,\n        itemComponent = _this$props4.itemComponent,\n        groupComponent = _this$props4.groupComponent,\n        listProps = _this$props4.listProps;\n    var elementProps = Props.pickElementProps(this);\n    var _this$state3 = this.state,\n        focusedItem = _this$state3.focusedItem,\n        focused = _this$state3.focused,\n        accessors = _this$state3.accessors,\n        list = _this$state3.list,\n        messages = _this$state3.messages;\n    var List = this.props.listComponent;\n    var disabled = this.props.disabled === true,\n        readOnly = this.props.readOnly === true;\n    focusedItem = focused && !disabled && !readOnly && focusedItem;\n    return _react.default.createElement(_Widget.default, _extends({}, elementProps, {\n      id: this.widgetId,\n      onBlur: this.focusManager.handleBlur,\n      onFocus: this.focusManager.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onKeyPress: this.handleKeyPress,\n      focused: focused,\n      disabled: disabled,\n      readOnly: readOnly,\n      role: \"radiogroup\",\n      \"aria-busy\": !!busy,\n      \"aria-activedescendant\": this.activeId,\n      className: (0, _classnames.default)(className, 'rw-select-list', 'rw-widget-input', 'rw-widget-container')\n    }), _react.default.createElement(List, _extends({}, listProps, {\n      role: \"radiogroup\",\n      tabIndex: tabIndex || '0',\n      id: this.listId,\n      activeId: this.activeId,\n      data: data,\n      dataState: list.dataState,\n      isDisabled: list.isDisabled,\n      textAccessor: accessors.text,\n      valueAccessor: accessors.value,\n      itemComponent: itemComponent,\n      groupComponent: groupComponent,\n      optionComponent: this.renderListItem,\n      focusedItem: focusedItem,\n      onMove: this.handleScroll,\n      messages: {\n        emptyList: messages.emptyList\n      },\n      ref: this.attachListRef\n    })), busy && busySpinner);\n  };\n\n  _proto.focus = function focus() {\n    (0, _reactDom.findDOMNode)(this.refs.list).focus();\n  };\n\n  _proto.selectAll = function selectAll() {\n    var accessors = this.accessors;\n    var _this$props5 = this.props,\n        data = _this$props5.data,\n        disabled = _this$props5.disabled,\n        onChange = _this$props5.onChange;\n    var values = this.state.dataItems;\n    disabled = Array.isArray(disabled) ? disabled : [];\n    var disabledValues;\n    var enabledData = data;\n\n    if (disabled.length) {\n      disabledValues = values.filter(function (v) {\n        return accessors.includes(disabled, v);\n      });\n      enabledData = data.filter(function (v) {\n        return !accessors.includes(disabled, v);\n      });\n    }\n\n    var nextValues = values.length >= enabledData.length ? values.filter(function (v) {\n      return accessors.includes(disabled, v);\n    }) : enabledData.concat(disabledValues);\n    (0, _widgetHelpers.notify)(onChange, [nextValues]);\n  };\n\n  _proto.search = function search(character, originalEvent) {\n    var _this2 = this;\n\n    var _searchTerm = this._searchTerm,\n        list = this.list;\n    var word = ((_searchTerm || '') + character).toLowerCase();\n    var multiple = this.props.multiple;\n    if (!multiple) originalEvent.persist();\n    if (!character) return;\n    this._searchTerm = word;\n    this.timeouts.set('search', function () {\n      var focusedItem = list.next(_this2.state.focusedItem, word);\n      _this2._searchTerm = '';\n\n      if (focusedItem) {\n        !multiple ? _this2.handleChange(focusedItem, true, originalEvent) : _this2.setState({\n          focusedItem: focusedItem\n        });\n      }\n    }, this.props.delay);\n  };\n\n  return SelectList;\n}(_react.default.Component), _class3.propTypes = {\n  data: _propTypes.default.array,\n  value: _propTypes.default.oneOfType([_propTypes.default.any, _propTypes.default.array]),\n  onChange: _propTypes.default.func,\n\n  /**\n   * A handler called when focus shifts on the SelectList. Internally this is used to ensure the focused item is in view.\n   * If you want to define your own \"scrollTo\" behavior or just disable the default one specify an `onMove` handler.\n   * The handler is called with the relevant DOM nodes needed to implement scroll behavior: the list element,\n   * the element that is currently focused, and a focused value.\n   *\n   * @type {function(list: HTMLELement, focusedNode: HTMLElement, focusedItem: any)}\n   */\n  onMove: _propTypes.default.func,\n\n  /**\n   * Whether or not the SelectList allows multiple selection or not. when `false` the SelectList will\n   * render as a list of radio buttons, and checkboxes when `true`.\n   */\n  multiple: _propTypes.default.bool,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  itemComponent: CustomPropTypes.elementType,\n  busySpinner: _propTypes.default.node,\n  listComponent: CustomPropTypes.elementType,\n  groupComponent: CustomPropTypes.elementType,\n  groupBy: CustomPropTypes.accessor,\n  valueField: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  busy: _propTypes.default.bool,\n  delay: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  listProps: _propTypes.default.object,\n  tabIndex: _propTypes.default.any,\n\n  /**\n   * The HTML `name` attribute used to group checkboxes and radio buttons\n   * together.\n   */\n  name: _propTypes.default.string,\n  isRtl: _propTypes.default.bool,\n  messages: _propTypes.default.shape({\n    emptyList: CustomPropTypes.message\n  })\n}, _class3.defaultProps = {\n  delay: 250,\n  value: [],\n  data: [],\n  busySpinner: _react.default.createElement(BusyMask, null),\n  listComponent: _List.default\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyDown\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function (event) {\n      var multiple = _this3.props.multiple;\n      var _this3$state = _this3.state,\n          dataItems = _this3$state.dataItems,\n          focusedItem = _this3$state.focusedItem,\n          list = _this3$state.list,\n          accessors = _this3$state.accessors;\n      var keyCode = event.keyCode,\n          key = event.key,\n          ctrlKey = event.ctrlKey;\n\n      var change = function change(item) {\n        if (!item) return;\n        var checked = multiple ? !accessors.includes(dataItems, item) // toggle value\n        : true;\n\n        _this3.handleChange(item, checked, event);\n      };\n\n      (0, _widgetHelpers.notify)(_this3.props.onKeyDown, [event]);\n      if (event.defaultPrevented) return;\n\n      if (key === 'End') {\n        event.preventDefault();\n        focusedItem = list.last();\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'Home') {\n        event.preventDefault();\n        focusedItem = list.first();\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'Enter' || key === ' ') {\n        event.preventDefault();\n        change(focusedItem);\n      } else if (key === 'ArrowDown' || key === 'ArrowRight') {\n        event.preventDefault();\n        focusedItem = list.next(focusedItem);\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (key === 'ArrowUp' || key === 'ArrowLeft') {\n        event.preventDefault();\n        focusedItem = list.prev(focusedItem);\n\n        _this3.setState({\n          focusedItem: focusedItem\n        });\n\n        if (!multiple) change(focusedItem);\n      } else if (multiple && keyCode === 65 && ctrlKey) {\n        event.preventDefault();\n\n        _this3.selectAll();\n      }\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"handleKeyPress\", [_interaction.widgetEditable], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function (event) {\n      (0, _widgetHelpers.notify)(_this4.props.onKeyPress, [event]);\n      if (event.defaultPrevented) return;\n\n      _this4.search(String.fromCharCode(event.which), event);\n    };\n  }\n})), _class2)) || _class;\n\nvar _default = (0, _uncontrollable.default)(SelectList, {\n  value: 'onChange'\n}, ['selectAll', 'focus']);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}