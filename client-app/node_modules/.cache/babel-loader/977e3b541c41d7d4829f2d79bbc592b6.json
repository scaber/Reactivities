{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v22.1.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { _ } from '../utils';\n\nvar TabbedLayout =\n/** @class */\nfunction () {\n  function TabbedLayout(params) {\n    var _this = this;\n\n    this.items = [];\n    this.params = params;\n    this.eGui = document.createElement('div');\n    this.eGui.innerHTML = TabbedLayout.TEMPLATE;\n    this.eHeader = this.eGui.querySelector('[ref=\"tabHeader\"]');\n    this.eBody = this.eGui.querySelector('[ref=\"tabBody\"]');\n\n    _.addCssClass(this.eGui, params.cssClass);\n\n    if (params.items) {\n      params.items.forEach(function (item) {\n        return _this.addItem(item);\n      });\n    }\n  }\n\n  TabbedLayout.prototype.setAfterAttachedParams = function (params) {\n    this.afterAttachedParams = params;\n  };\n\n  TabbedLayout.prototype.getMinDimensions = function () {\n    var eDummyContainer = this.eGui.cloneNode(true);\n    var eDummyBody = eDummyContainer.querySelector('[ref=\"tabBody\"]'); // position fixed, so it isn't restricted to the boundaries of the parent\n\n    eDummyContainer.style.position = 'fixed'; // we put the dummy into the body container, so it will inherit all the\n    // css styles that the real cells are inheriting\n\n    this.eGui.appendChild(eDummyContainer);\n    var minWidth = 0;\n    var minHeight = 0;\n    this.items.forEach(function (itemWrapper) {\n      _.clearElement(eDummyBody);\n\n      var eClone = itemWrapper.tabbedItem.bodyPromise.resolveNow(null, function (body) {\n        return body.cloneNode(true);\n      });\n\n      if (eClone == null) {\n        return;\n      }\n\n      eDummyBody.appendChild(eClone);\n\n      if (minWidth < eDummyContainer.offsetWidth) {\n        minWidth = eDummyContainer.offsetWidth;\n      }\n\n      if (minHeight < eDummyContainer.offsetHeight) {\n        minHeight = eDummyContainer.offsetHeight;\n      }\n    }); // finally check the parent tabs are no wider, as if they\n    // are, then these are the min width and not the child tabs\n    // if (minWidth<this.eGui.offsetWidth) {\n    //     minWidth = this.eGui.offsetWidth;\n    // }\n\n    this.eGui.removeChild(eDummyContainer);\n    return {\n      height: minHeight,\n      width: minWidth\n    };\n  };\n\n  TabbedLayout.prototype.showFirstItem = function () {\n    if (this.items.length > 0) {\n      this.showItemWrapper(this.items[0]);\n    }\n  };\n\n  TabbedLayout.prototype.addItem = function (item) {\n    var eHeaderButton = document.createElement('span');\n    eHeaderButton.appendChild(item.title);\n\n    _.addCssClass(eHeaderButton, 'ag-tab');\n\n    this.eHeader.appendChild(eHeaderButton);\n    var wrapper = {\n      tabbedItem: item,\n      eHeaderButton: eHeaderButton\n    };\n    this.items.push(wrapper);\n    eHeaderButton.addEventListener('click', this.showItemWrapper.bind(this, wrapper));\n  };\n\n  TabbedLayout.prototype.showItem = function (tabbedItem) {\n    var itemWrapper = _.find(this.items, function (wrapper) {\n      return wrapper.tabbedItem === tabbedItem;\n    });\n\n    if (itemWrapper) {\n      this.showItemWrapper(itemWrapper);\n    }\n  };\n\n  TabbedLayout.prototype.showItemWrapper = function (wrapper) {\n    var _this = this;\n\n    if (this.params.onItemClicked) {\n      this.params.onItemClicked({\n        item: wrapper.tabbedItem\n      });\n    }\n\n    if (this.activeItem === wrapper) {\n      _.callIfPresent(this.params.onActiveItemClicked);\n\n      return;\n    }\n\n    _.clearElement(this.eBody);\n\n    wrapper.tabbedItem.bodyPromise.then(function (body) {\n      _this.eBody.appendChild(body);\n    });\n\n    if (this.activeItem) {\n      _.removeCssClass(this.activeItem.eHeaderButton, 'ag-tab-selected');\n    }\n\n    _.addCssClass(wrapper.eHeaderButton, 'ag-tab-selected');\n\n    this.activeItem = wrapper;\n\n    if (wrapper.tabbedItem.afterAttachedCallback) {\n      wrapper.tabbedItem.afterAttachedCallback(this.afterAttachedParams);\n    }\n  };\n\n  TabbedLayout.prototype.getGui = function () {\n    return this.eGui;\n  };\n\n  TabbedLayout.TEMPLATE = '<div>' + '<div ref=\"tabHeader\" class=\"ag-tab-header\"></div>' + '<div ref=\"tabBody\" class=\"ag-tab-body\"></div>' + '</div>';\n  return TabbedLayout;\n}();\n\nexport { TabbedLayout };","map":null,"metadata":{},"sourceType":"module"}