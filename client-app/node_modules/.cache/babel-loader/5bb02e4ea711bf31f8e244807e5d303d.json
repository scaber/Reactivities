{"ast":null,"code":"'use strict';\n\nvar Promise = require('lie');\n\nmodule.exports = binaryAjax;\n\nfunction binaryAjax(url) {\n  return new Promise(function (resolve, reject) {\n    var type = url.slice(-3);\n    var ajax = new XMLHttpRequest();\n    ajax.open('GET', url, true);\n\n    if (type !== 'prj' && type !== 'cpg') {\n      ajax.responseType = 'arraybuffer';\n    }\n\n    ajax.addEventListener('load', function () {\n      if (ajax.status > 399) {\n        if (type === 'prj' || type === 'cpg') {\n          return resolve(false);\n        } else {\n          return reject(new Error(ajax.status));\n        }\n      }\n\n      if (type !== 'prj' && type !== 'cpg') {\n        return resolve(new Buffer(ajax.response));\n      } else {\n        return resolve(ajax.response);\n      }\n    }, false);\n    ajax.send();\n  });\n}","map":null,"metadata":{},"sourceType":"script"}