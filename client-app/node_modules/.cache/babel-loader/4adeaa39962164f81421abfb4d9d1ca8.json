{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _reactDom = require(\"react-dom\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar _localizers = require(\"./util/localizers\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./util/PropTypes\"));\n\nvar Props = _interopRequireWildcard(require(\"./util/Props\"));\n\nvar _class, _class2, _temp;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DateTimePickerInput = (0, _reactLifecyclesCompat.polyfill)(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DateTimePickerInput, _React$Component);\n\n  function DateTimePickerInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {};\n\n    _this.handleBlur = function (event) {\n      var _this$props = _this.props,\n          format = _this$props.format,\n          culture = _this$props.culture,\n          parse = _this$props.parse,\n          onChange = _this$props.onChange,\n          onBlur = _this$props.onBlur;\n      onBlur && onBlur(event);\n\n      if (_this._needsFlush) {\n        var date = parse(event.target.value);\n        var dateIsInvalid = event.target.value != '' && date == null;\n\n        if (dateIsInvalid) {\n          _this.setState({\n            textValue: ''\n          });\n        }\n\n        _this._needsFlush = false;\n        onChange(date, formatDate(date, format, culture));\n      }\n    };\n\n    _this.handleChange = function (_ref) {\n      var value = _ref.target.value;\n      _this._needsFlush = true;\n\n      _this.setState({\n        textValue: value\n      });\n    };\n\n    return _this;\n  }\n\n  DateTimePickerInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        editing = nextProps.editing,\n        editFormat = nextProps.editFormat,\n        format = nextProps.format,\n        culture = nextProps.culture;\n    var textValue = formatDate(value, editing && editFormat ? editFormat : format, culture);\n    if (prevState.lastValueFromProps !== textValue) return {\n      textValue: textValue,\n      lastValueFromProps: textValue\n    };\n    return null;\n  };\n\n  var _proto = DateTimePickerInput.prototype;\n\n  _proto.focus = function focus() {\n    (0, _reactDom.findDOMNode)(this).focus();\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        disabled = _this$props2.disabled,\n        readOnly = _this$props2.readOnly;\n    var textValue = this.state.textValue;\n    var props = Props.omitOwn(this);\n    return _react.default.createElement(_Input.default, _extends({}, props, {\n      type: \"text\",\n      className: \"rw-widget-input\",\n      value: textValue,\n      disabled: disabled,\n      readOnly: readOnly,\n      onChange: this.handleChange,\n      onBlur: this.handleBlur\n    }));\n  };\n\n  return DateTimePickerInput;\n}(_react.default.Component), _class2.propTypes = {\n  format: CustomPropTypes.dateFormat.isRequired,\n  editing: _propTypes.default.bool,\n  editFormat: CustomPropTypes.dateFormat,\n  parse: _propTypes.default.func.isRequired,\n  value: _propTypes.default.instanceOf(Date),\n  onChange: _propTypes.default.func.isRequired,\n  onBlur: _propTypes.default.func,\n  culture: _propTypes.default.string,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled\n}, _temp)) || _class;\n\nvar _default = DateTimePickerInput;\nexports.default = _default;\n\nfunction isValid(d) {\n  return !isNaN(d.getTime());\n}\n\nfunction formatDate(date, format, culture) {\n  var val = '';\n  if (date instanceof Date && isValid(date)) val = _localizers.date.format(date, format, culture);\n  return val;\n}\n\nmodule.exports = exports[\"default\"];","map":null,"metadata":{},"sourceType":"script"}