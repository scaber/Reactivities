{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v22.1.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Autowired, Bean } from \"../context/context\";\n\nvar HorizontalResizeService =\n/** @class */\nfunction () {\n  function HorizontalResizeService() {}\n\n  HorizontalResizeService.prototype.addResizeBar = function (params) {\n    var _this = this;\n\n    var dragSource = {\n      dragStartPixels: params.dragStartPixels || 0,\n      eElement: params.eResizeBar,\n      onDragStart: this.onDragStart.bind(this, params),\n      onDragStop: this.onDragStop.bind(this, params),\n      onDragging: this.onDragging.bind(this, params)\n    };\n    this.dragService.addDragSource(dragSource, true); // we pass remove func back to the caller, so call can tell us when they\n    // are finished, and then we remove the listener from the drag source\n\n    var finishedWithResizeFunc = function () {\n      return _this.dragService.removeDragSource(dragSource);\n    };\n\n    return finishedWithResizeFunc;\n  };\n\n  HorizontalResizeService.prototype.onDragStart = function (params, mouseEvent) {\n    this.draggingStarted = true;\n    this.dragStartX = mouseEvent.clientX;\n    this.setResizeIcons();\n    var shiftKey = mouseEvent instanceof MouseEvent ? mouseEvent.shiftKey === true : false;\n    params.onResizeStart(shiftKey);\n  };\n\n  HorizontalResizeService.prototype.setResizeIcons = function () {\n    this.oldBodyCursor = this.eGridDiv.style.cursor;\n    this.oldMsUserSelect = this.eGridDiv.style.msUserSelect;\n    this.oldWebkitUserSelect = this.eGridDiv.style.webkitUserSelect; // change the body cursor, so when drag moves out of the drag bar, the cursor is still 'resize' (or 'move'\n\n    this.eGridDiv.style.cursor = 'col-resize'; // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n\n    this.eGridDiv.style.msUserSelect = 'none';\n    this.eGridDiv.style.webkitUserSelect = 'none';\n  };\n\n  HorizontalResizeService.prototype.onDragStop = function (params, mouseEvent) {\n    params.onResizeEnd(this.resizeAmount);\n    this.resetIcons();\n  };\n\n  HorizontalResizeService.prototype.resetIcons = function () {\n    // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n    this.eGridDiv.style.cursor = this.oldBodyCursor;\n    this.eGridDiv.style.msUserSelect = this.oldMsUserSelect;\n    this.eGridDiv.style.webkitUserSelect = this.oldWebkitUserSelect;\n  };\n\n  HorizontalResizeService.prototype.onDragging = function (params, mouseEvent) {\n    this.resizeAmount = mouseEvent.clientX - this.dragStartX;\n    params.onResizing(this.resizeAmount);\n  };\n\n  __decorate([Autowired('gridOptionsWrapper')], HorizontalResizeService.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([Autowired('dragService')], HorizontalResizeService.prototype, \"dragService\", void 0);\n\n  __decorate([Autowired('eGridDiv')], HorizontalResizeService.prototype, \"eGridDiv\", void 0);\n\n  HorizontalResizeService = __decorate([Bean('horizontalResizeService')], HorizontalResizeService);\n  return HorizontalResizeService;\n}();\n\nexport { HorizontalResizeService };","map":null,"metadata":{},"sourceType":"module"}